(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00016e03"],{"3f2c":function(t,e,a){"use strict";a.d(e,"h",(function(){return o})),a.d(e,"g",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return c})),a.d(e,"j",(function(){return l})),a.d(e,"i",(function(){return d})),a.d(e,"d",(function(){return u})),a.d(e,"c",(function(){return h})),a.d(e,"k",(function(){return p})),a.d(e,"a",(function(){return g})),a.d(e,"f",(function(){return m}));var n=a("997a");const r=new n["a"],o=t=>r.axiosInstance.get("/administrator/orders",{params:t}),s=t=>r.axiosInstance.get("/administrator/orders/"+t),i=()=>r.axiosInstance.get("/administrator/orders/statuses"),c=t=>r.axiosInstance.post(`/administrator/orders/${t}/order_logs/customer_care_accept_device`),d=t=>r.axiosInstance.post(`/administrator/orders/${t}/order_logs/technician_accept_job`),l=t=>r.axiosInstance.post(`/administrator/orders/${t}/order_logs/finish_the_service`),u=t=>r.axiosInstance.post(`/administrator/orders/${t}/order_logs/finish_the_order`),h=t=>r.axiosInstance.post(`/administrator/orders/${t}/order_logs/cancel_the_order`),p=(t,e)=>r.axiosInstance.put("/administrator/orders/"+t,e),g=t=>r.axiosInstance.post("/administrator/orders/",t),m=t=>r.axiosInstance.get(`/administrator/orders/${t}/feedbacks`)},"634a":function(t,e,a){"use strict";a.r(e);var n=a("7a23");const r={class:"content-title d-flex justify-content-between align-items-center"},o=Object(n["createElementVNode"])("h5",null,"Daftar Orderan",-1),s=Object(n["createElementVNode"])("button",{class:"btn btn-with-addon btn-primary"},[Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-plus-circle"})]),Object(n["createTextVNode"])(" Tambah ")],-1),i={class:"card"},c={class:"card-header card-header-flex"},d={class:"d-flex flex-column justify-content-center flex-fill"},l={class:"row"},u={class:"col-sm-12 col-md-6"},h={class:"card-body"};function p(t,e,a,p,g,m){const f=Object(n["resolveComponent"])("router-link"),b=Object(n["resolveComponent"])("a-select"),O=Object(n["resolveComponent"])("a-table");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",r,[o,Object(n["createVNode"])(f,{to:"/orders/new"},{default:Object(n["withCtx"])(()=>[s]),_:1})]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",u,[Object(n["createVNode"])(b,{style:{width:"100%"},options:g.options,value:p.filterOrderStatus,"onUpdate:value":e[0]||(e[0]=t=>p.filterOrderStatus=t),onChange:m.handleFilterStatusChange},null,8,["options","value","onChange"])])])])]),Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(O,{columns:p.columns,"data-source":g.data,loading:g.loading,"row-key":t=>t.id,"custom-row":p.customRow,pagination:g.pagination,onChange:m.handleTabChange},null,8,["columns","data-source","loading","row-key","custom-row","pagination","onChange"])])])])])}var g=a("6605"),m=a("3f2c");const f=[{title:"No Order",dataIndex:"id",key:"orderId"},{title:"Kategori",dataIndex:"category_item_caption",key:"category"},{title:"Customer",dataIndex:"customer",key:"customer"},{title:"Perangkat",dataIndex:"device_type",key:"device"},{title:"Harga",dataIndex:"formatted_price",key:"price"},{title:"Status",dataIndex:"status",key:"status"},{title:"Catatan",dataIndex:"note",key:"note"}];var b={setup(){const t=Object(n["ref"])(0),e=Object(g["d"])(),a=t=>({style:{cursor:"pointer"},onClick:()=>{e.push({path:"/orders/view/"+t.id})}});return{columns:f,filterOrderStatus:t,customRow:a}},data(){return{data:[],loading:!1,pagination:{current:1,pageSize:20},options:[{value:0,label:"Semua"}]}},mounted(){this.fetchOrderStatuses(),this.fetchData({page:1,limit:this.pagination.pageSize,status_id:this.filterOrderStatus})},methods:{async fetchData(t={}){this.loading=!0,0===t.status_id&&delete t.status_id;try{const e=await Object(m["h"])(t);200===e.status&&(this.data=e.data.data,this.pagination={...this.pagination,current:e.data.paging.current_page,total:e.data.paging.total})}catch(e){}this.loading=!1},async fetchOrderStatuses(){try{const t=await Object(m["g"])();if(200===t.status){let e=[];for(let a in t.data)e.push({value:a,label:t.data[a]});this.options=[...this.options,...e]}}catch(t){}},handleFilterStatusChange(){this.fetchData({page:1,limit:this.pagination.pageSize,status_id:this.filterOrderStatus})},handleTabChange(t){this.pagination.current=t.current,this.fetchData({page:this.pagination.current,limit:this.pagination.pageSize,status_id:this.filterOrderStatus})}}},O=a("d959"),j=a.n(O);const _=j()(b,[["render",p]]);e["default"]=_}}]);