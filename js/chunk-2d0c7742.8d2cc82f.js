(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7742"],{"514d":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o={class:"content-title d-flex justify-content-between align-items-center"},i=Object(c["createElementVNode"])("h5",null,"Feedback Question",-1),n=Object(c["createElementVNode"])("span",{class:"btn-addon"},[Object(c["createElementVNode"])("i",{class:"btn-addon-icon fe fe-plus-circle"})],-1),l=Object(c["createTextVNode"])(" Tambah "),d=[n,l],s={key:0,class:"text-center"},r=["onClick"],b=["onClick"],h=["onClick"],u={style:{width:"100%"}},m=Object(c["createTextVNode"])("Aktif"),O=Object(c["createTextVNode"])("Nonaktif"),j={class:"row mb-2"},p=Object(c["createElementVNode"])("div",{class:"col-1"},[Object(c["createElementVNode"])("span",null,"Posisi")],-1),k={class:"col-9"},v=Object(c["createElementVNode"])("span",{class:"mr-3"},":",-1),_={class:"row mb-2"},V=Object(c["createElementVNode"])("div",{class:"col-1"},[Object(c["createElementVNode"])("span",null,"Pertanyaan")],-1),N={class:"col-11"},f=Object(c["createElementVNode"])("span",{class:"mr-3"},":",-1),w={class:"row"},E=Object(c["createElementVNode"])("div",{class:"col-1"},[Object(c["createElementVNode"])("span",null,"Pilihan")],-1),g={class:"col-11"},F=Object(c["createElementVNode"])("span",{class:"mr-3"},":",-1),y={key:0,class:"mr-4"},S={key:1,class:"mr-4"},C={key:2,class:"mr-4"},x={key:3,class:"mr-4"},P={key:4,class:"mr-4"},M={class:"row"},B={class:"col-md-6"},q={class:"col-md-6"},Q={class:"row"},U={class:"col-md-6"},A={class:"col-md-6"},D={class:"row"},$={class:"col-6"},J={class:"row"},R={class:"col-md-6"},T={class:"col-md-6"},I={class:"row"},z={class:"col-md-6"},H={class:"col-md-6"},G={class:"row"},K={class:"col-6"};function L(e,t,a,n,l,L){const W=Object(c["resolveComponent"])("a-spin"),X=Object(c["resolveComponent"])("a-tag"),Y=Object(c["resolveComponent"])("a-list-item"),Z=Object(c["resolveComponent"])("a-list"),ee=Object(c["resolveComponent"])("a-input-number"),te=Object(c["resolveComponent"])("a-form-item"),ae=Object(c["resolveComponent"])("a-input"),ce=Object(c["resolveComponent"])("a-form"),oe=Object(c["resolveComponent"])("a-modal");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createElementVNode"])("div",o,[i,Object(c["createElementVNode"])("button",{class:"btn btn-with-addon btn-primary",onClick:t[0]||(t[0]=(...e)=>n.openAddModal&&n.openAddModal(...e))},d)]),Object(c["createElementVNode"])("div",null,[l.loadingQuestion?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createVNode"])(W)])):(Object(c["openBlock"])(),Object(c["createBlock"])(Z,{key:1,size:"large",bordered:"","data-source":l.questions,"row-key":e=>e.id},{renderItem:Object(c["withCtx"])(({item:e})=>[Object(c["createVNode"])(Y,null,{actions:Object(c["withCtx"])(()=>[e.active?(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:0,class:"text-danger",onClick:t=>L.handleDelete(e.id)}," Nonaktifkan ",8,r)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:1,class:"text-primary",onClick:t=>L.undoDelete(e.id)}," Aktifkan ",8,b)),Object(c["createElementVNode"])("a",{class:"text-primary",onClick:t=>L.handleEdit(e)},"Edit",8,h)]),default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",u,[e.active?(Object(c["openBlock"])(),Object(c["createBlock"])(X,{key:0,color:"green",class:"mb-2"},{default:Object(c["withCtx"])(()=>[m]),_:1})):(Object(c["openBlock"])(),Object(c["createBlock"])(X,{key:1,color:"red",class:"mb-2"},{default:Object(c["withCtx"])(()=>[O]),_:1})),Object(c["createElementVNode"])("div",j,[p,Object(c["createElementVNode"])("div",k,[v,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.position_id),1)])]),Object(c["createElementVNode"])("div",_,[V,Object(c["createElementVNode"])("div",N,[f,Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(e.question),1)])]),Object(c["createElementVNode"])("div",w,[E,Object(c["createElementVNode"])("div",g,[F,e.choice_1?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",y,"1. "+Object(c["toDisplayString"])(e.choice_1),1)):Object(c["createCommentVNode"])("",!0),e.choice_2?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",S,"2. "+Object(c["toDisplayString"])(e.choice_2),1)):Object(c["createCommentVNode"])("",!0),e.choice_3?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",C,"3. "+Object(c["toDisplayString"])(e.choice_3),1)):Object(c["createCommentVNode"])("",!0),e.choice_4?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",x,"4. "+Object(c["toDisplayString"])(e.choice_4),1)):Object(c["createCommentVNode"])("",!0),e.choice_5?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",P,"5. "+Object(c["toDisplayString"])(e.choice_5),1)):Object(c["createCommentVNode"])("",!0)])])])]),_:2},1024)]),_:1},8,["data-source","row-key"]))]),Object(c["createVNode"])(oe,{visible:n.addModalVisible,"onUpdate:visible":t[8]||(t[8]=e=>n.addModalVisible=e),title:"Tambah Pertanyaan",width:"50vw",onOk:L.handleAddFinish,"confirm-loading":l.loadingAdd,style:{top:"20px"}},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{ref:"addFormRef",model:n.addFormState,rules:n.addFormRules,layout:"vertical"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(te,{ref:"position_id",name:"position_id",label:"Posisi"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ee,{value:n.addFormState.position_id,"onUpdate:value":t[1]||(t[1]=e=>n.addFormState.position_id=e),min:1,placeholder:"Masukkan id posisi",style:{width:"100%"}},null,8,["value"])]),_:1},512),Object(c["createVNode"])(te,{ref:"question",name:"question",label:"Pertanyaan"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.addFormState.question,"onUpdate:value":t[2]||(t[2]=e=>n.addFormState.question=e),placeholder:"Masukkan pertanyaan"},null,8,["value"])]),_:1},512),Object(c["createElementVNode"])("div",M,[Object(c["createElementVNode"])("div",B,[Object(c["createVNode"])(te,{ref:"choice_1",name:"choice_1",label:"Pilihan Jawaban 1"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.addFormState.choice_1,"onUpdate:value":t[3]||(t[3]=e=>n.addFormState.choice_1=e),placeholder:"Masukkan pilihan 1"},null,8,["value"])]),_:1},512)]),Object(c["createElementVNode"])("div",q,[Object(c["createVNode"])(te,{ref:"choice_2",name:"choice_2",label:"Pilihan Jawaban 2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.addFormState.choice_2,"onUpdate:value":t[4]||(t[4]=e=>n.addFormState.choice_2=e),placeholder:"Masukkan pilihan 2"},null,8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",Q,[Object(c["createElementVNode"])("div",U,[Object(c["createVNode"])(te,{ref:"choice_3",name:"choice_3",label:"Pilihan Jawaban 3"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.addFormState.choice_3,"onUpdate:value":t[5]||(t[5]=e=>n.addFormState.choice_3=e),placeholder:"Masukkan pilihan 3"},null,8,["value"])]),_:1},512)]),Object(c["createElementVNode"])("div",A,[Object(c["createVNode"])(te,{ref:"choice_4",name:"choice_4",label:"Pilihan Jawaban 4"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.addFormState.choice_4,"onUpdate:value":t[6]||(t[6]=e=>n.addFormState.choice_4=e),placeholder:"Masukkan pilihan 4"},null,8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",$,[Object(c["createVNode"])(te,{ref:"choice_5",name:"choice_5",label:"Pilihan Jawaban 5"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.addFormState.choice_5,"onUpdate:value":t[7]||(t[7]=e=>n.addFormState.choice_5=e),placeholder:"Masukkan pilihan 5"},null,8,["value"])]),_:1},512)])])]),_:1},8,["model","rules"])]),_:1},8,["visible","onOk","confirm-loading"]),Object(c["createVNode"])(oe,{visible:n.editModalVisible,"onUpdate:visible":t[16]||(t[16]=e=>n.editModalVisible=e),title:"Edit Pertanyaan",width:"50vw",onOk:L.handleEditFinish,"confirm-loading":l.loadingEdit,style:{top:"20px"}},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{ref:"editFormRef",model:n.editFormState,rules:n.addFormRules,layout:"vertical"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(te,{ref:"position_id",name:"position_id",label:"Posisi"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ee,{value:n.editFormState.position_id,"onUpdate:value":t[9]||(t[9]=e=>n.editFormState.position_id=e),min:1,placeholder:"Masukkan id posisi",style:{width:"100%"}},null,8,["value"])]),_:1},512),Object(c["createVNode"])(te,{ref:"question",name:"question",label:"Pertanyaan"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.editFormState.question,"onUpdate:value":t[10]||(t[10]=e=>n.editFormState.question=e),placeholder:"Masukkan pertanyaan"},null,8,["value"])]),_:1},512),Object(c["createElementVNode"])("div",J,[Object(c["createElementVNode"])("div",R,[Object(c["createVNode"])(te,{ref:"choice_1",name:"choice_1",label:"Pilihan Jawaban 1"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.editFormState.choice_1,"onUpdate:value":t[11]||(t[11]=e=>n.editFormState.choice_1=e),placeholder:"Masukkan pilihan 1"},null,8,["value"])]),_:1},512)]),Object(c["createElementVNode"])("div",T,[Object(c["createVNode"])(te,{ref:"choice_2",name:"choice_2",label:"Pilihan Jawaban 2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.editFormState.choice_2,"onUpdate:value":t[12]||(t[12]=e=>n.editFormState.choice_2=e),placeholder:"Masukkan pilihan 2"},null,8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("div",z,[Object(c["createVNode"])(te,{ref:"choice_3",name:"choice_3",label:"Pilihan Jawaban 3"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.editFormState.choice_3,"onUpdate:value":t[13]||(t[13]=e=>n.editFormState.choice_3=e),placeholder:"Masukkan pilihan 3"},null,8,["value"])]),_:1},512)]),Object(c["createElementVNode"])("div",H,[Object(c["createVNode"])(te,{ref:"choice_4",name:"choice_4",label:"Pilihan Jawaban 4"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.editFormState.choice_4,"onUpdate:value":t[14]||(t[14]=e=>n.editFormState.choice_4=e),placeholder:"Masukkan pilihan 4"},null,8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",G,[Object(c["createElementVNode"])("div",K,[Object(c["createVNode"])(te,{ref:"choice_5",name:"choice_5",label:"Pilihan Jawaban 5"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ae,{value:n.editFormState.choice_5,"onUpdate:value":t[15]||(t[15]=e=>n.editFormState.choice_5=e),placeholder:"Masukkan pilihan 5"},null,8,["value"])]),_:1},512)])])]),_:1},8,["model","rules"])]),_:1},8,["visible","onOk","confirm-loading"])])}var W=a("997a");const X=new W["a"],Y=async e=>X.axiosInstance.get("/administrator/feedback_questions",{params:e}),Z=async e=>X.axiosInstance.post("/administrator/feedback_questions",e),ee=async(e,t)=>X.axiosInstance.put("/administrator/feedback_questions/"+e,t);var te=a("96d9"),ae={setup(){const e=Object(c["ref"])(!1),t=()=>{e.value=!0},a=Object(c["ref"])(!1),o=()=>{a.value=!0},i=Object(c["ref"])(),n=Object(c["reactive"])({position_id:void 0,question:void 0,active:!0,choice_1:"Sangat Tidak Puas",choice_2:"Tidak Puas",choice_3:"Netral",choice_4:"Puas",choice_5:"Sangat Puas"}),l=Object(c["ref"])(),d=Object(c["reactive"])({position_id:void 0,question:void 0,active:!0,choice_1:"Sangat Tidak Puas",choice_2:"Tidak Puas",choice_3:"Netral",choice_4:"Puas",choice_5:"Sangat Puas"}),s=async(e,t)=>t?Promise.resolve():Promise.reject("Posisi id tidak boleh kosong"),r={position_id:[{required:!0,validator:s,trigger:"change"},{type:"number",message:"Posisi id harus berupa angka",trigger:"change"}],question:[{required:!0,message:"Pertanyaan tidak boleh kosong",trigger:"change"}]};return{addModalVisible:e,editModalVisible:a,addFormRef:i,addFormState:n,addFormRules:r,editFormState:d,editFormRef:l,openAddModal:t,openEditModal:o}},data(){return{questions:[],loadingQuestion:!0,loadingAdd:!1,loadingEdit:!1,focusedEditId:null}},mounted(){this.fetchQuestions()},methods:{async fetchQuestions(){this.loadingQuestion=!0;try{const e=await Y();200===e.status&&(this.questions=e.data)}catch(e){}this.loadingQuestion=!1},async submitAddData(){this.loadingAdd=!0,this.$nprogress.start();try{const e=await Z(Object(c["toRaw"])(this.addFormState));200===e.status&&(this.$notification.success({message:"Sukses",description:"Feedback Question berhasil ditambahkan"}),this.questions.push(e.data),this.addModalVisible=!1,this.addFormRef.resetFields())}catch(e){}this.loadingAdd=!1,this.$nprogress.done()},async deleteQuestion(e){this.$nprogress.start();try{const t=await ee(e,{active:!1});200===t.status&&(this.$notification.success({message:"Sukses",description:"Feedback Question berhasil dinonaktifkan"}),this.fetchQuestions())}catch(t){}this.$nprogress.done()},async undoDelete(e){this.$nprogress.start();try{const t=await ee(e,{active:!0});200===t.status&&(this.$notification.success({message:"Sukses",description:"Feedback Question berhasil diaktifkan"}),this.fetchQuestions())}catch(t){}this.$nprogress.done()},async editQuestion(){this.loadingEdit=!0,this.$nprogress.start();try{const e=await ee(this.focusedEditId,Object(c["toRaw"])(this.editFormState));200===e.status&&(this.$notification.success({message:"Sukses",description:"Feedback Question berhasil diperbarui"}),this.fetchQuestions(),this.editModalVisible=!1)}catch(e){}this.$nprogress.done(),this.loadingEdit=!1},handleAddFinish(){this.addFormRef.validate().then(()=>{this.submitAddData()}).catch(()=>{})},handleEditFinish(){this.editFormRef.validate().then(()=>this.editQuestion()).catch(()=>{})},handleDelete(e){this.$modal.confirm({title:()=>"Hapus",icon:()=>Object(c["createVNode"])(te["a"]),content:"Apakah Anda yakin untuk menghapus pertanyaan ini?",onOk:()=>{this.deleteQuestion(e)},onCancel:()=>{}})},handleEdit(e){this.focusedEditId=e.id,this.editFormState.position_id=e.position_id,this.editFormState.question=e.question,this.editFormState.choice_1=e.choice_1,this.editFormState.choice_2=e.choice_2,this.editFormState.choice_3=e.choice_3,this.editFormState.choice_4=e.choice_4,this.editFormState.choice_5=e.choice_5,this.openEditModal()}}},ce=a("d959"),oe=a.n(ce);const ie=oe()(ae,[["render",L]]);t["default"]=ie}}]);