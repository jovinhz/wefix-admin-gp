(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4caee82"],{d81d:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").map,o=r("1dde"),s=o("map");a({target:"Array",proto:!0,forced:!s},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},d953:function(e,t,r){"use strict";r.r(t);var a=r("7a23"),n=Object(a["createElementVNode"])("div",{class:"content-title"},[Object(a["createElementVNode"])("h5",null,"Tambah Staff")],-1),o={class:"card"},s={class:"card-body"},c={class:"row"},i={class:"col-md-6 mb-2"},u={class:"row"},l={class:"col-md-6 mb-2"},d={class:"row"},m={class:"col-md-6 mb-2"},f={class:"row"},b={class:"col-md-6 mb-2"},p={class:"row"},v={class:"col-md-6 mb-2"},h={class:"row"},j={class:"col-md-6 mb-2"},O=["disabled"],w=Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),g=Object(a["createTextVNode"])(" Simpan "),k=[w,g];function N(e,t,r,w,g,N){var V=Object(a["resolveComponent"])("a-input"),_=Object(a["resolveComponent"])("a-form-item"),x=Object(a["resolveComponent"])("a-input-password"),E=Object(a["resolveComponent"])("a-select"),S=Object(a["resolveComponent"])("a-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(S,{ref:"formRef",model:w.formState,rules:w.rules,layout:"vertical",onFinish:N.handleFinish},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(_,{ref:"username",label:"Username",name:"username"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(V,{value:w.formState.username,"onUpdate:value":t[0]||(t[0]=function(e){return w.formState.username=e}),placeholder:"Masukkan Username"},null,8,["value"])]})),_:1},512)])]),Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",l,[Object(a["createVNode"])(_,{ref:"full_name",label:"Nama",name:"full_name"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(V,{value:w.formState.full_name,"onUpdate:value":t[1]||(t[1]=function(e){return w.formState.full_name=e}),placeholder:"Masukkan nama lengkap"},null,8,["value"])]})),_:1},512)])]),Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",m,[Object(a["createVNode"])(_,{ref:"password",label:"Password",name:"password"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{value:w.formState.password,"onUpdate:value":t[2]||(t[2]=function(e){return w.formState.password=e}),placeholder:"Masukkan password"},null,8,["value"])]})),_:1},512)])]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",b,[Object(a["createVNode"])(_,{ref:"password_confirmation",label:"Konfirmasi Password",name:"password_confirmation"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{value:w.formState.password_confirmation,"onUpdate:value":t[3]||(t[3]=function(e){return w.formState.password_confirmation=e}),placeholder:"Masukkan password sekali lagi"},null,8,["value"])]})),_:1},512)])]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",v,[Object(a["createVNode"])(_,{ref:"role_list",label:"Role",name:"role_list"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(E,{value:w.formState.role_list,"onUpdate:value":t[4]||(t[4]=function(e){return w.formState.role_list=e}),mode:"multiple",placeholder:"Pilih Role",options:N.roleListData},null,8,["value","options"])]})),_:1},512)])]),Object(a["createElementVNode"])("div",h,[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:g.loading},k,8,O)])])])])]})),_:1},8,["model","rules","onFinish"])])])}var V=r("5530"),_=r("1da1"),x=(r("96cf"),r("d3b7"),r("d81d"),r("a15b"),r("f821")),E={setup:function(){var e=Object(a["ref"])(),t=Object(a["reactive"])({username:"",password:"",password_confirmation:"",full_name:"",role_list:[]}),r=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}return e.abrupt("return",Promise.reject("Konfirmasi password tidak boleh kosong."));case 4:if(a===t.password){e.next=8;break}return e.abrupt("return",Promise.reject("Password dan Konfirmasi password harus sama."));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.length){e.next=4;break}return e.abrupt("return",Promise.reject("Harus memilih minimal 1 role."));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o={username:[{required:!0,message:"Username tidak boleh kosong.",trigger:"change"}],password:[{required:!0,message:"Password tidak boleh kosong.",trigger:"change"}],password_confirmation:[{required:!0,validator:r,trigger:"change"}],full_name:[{required:!0,message:"Nama tidak boleh kosong.",trigger:"change"}],role_list:[{required:!0,validator:n,trigger:"change"}]};return{formRef:e,formState:t,rules:o}},data:function(){return{loading:!1,roleList:[]}},mounted:function(){this.fetchRoleList()},computed:{roleListData:function(){return this.roleList.map((function(e){return{value:e}}))}},methods:{fetchRoleList:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x["c"])();case 3:r=t.sent,200===r.status&&(e.roleList=r.data),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleFinish:function(){var e=this;this.formRef.validate().then((function(){return e.submitData()})).catch((function(){}))},submitData:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(x["a"])(Object(V["a"])(Object(V["a"])({},Object(a["toRaw"])(e.formState)),{},{role_list:Object(a["toRaw"])(e.formState.role_list.join(", "))}));case 5:r=t.sent,200===r.status&&(e.$notification.success({message:"Sukses",description:"Staff berhasil ditambahkan."}),e.$router.back()),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.loading=!1,e.$nprogress.done();case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()}}},S=r("6b0d"),R=r.n(S);const C=R()(E,[["render",N]]);t["default"]=C},f821:function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"b",(function(){return l}));var a=r("997a"),n=new a["a"],o=function(){return n.axiosInstance.get("/administrator/administrators")},s=function(e){return n.axiosInstance.get("/administrator/administrators/".concat(e))},c=function(e){return n.axiosInstance.post("/administrator/administrators",e)},i=function(){return n.axiosInstance.get("/administrator/administrators/roles")},u=function(e,t){return n.axiosInstance.put("/administrator/administrators/".concat(e),t)},l=function(e){return n.axiosInstance.put("/administrator/administrators/".concat(e),{status_id:2})}}}]);