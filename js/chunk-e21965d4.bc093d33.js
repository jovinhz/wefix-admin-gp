(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e21965d4"],{b97d:function(t,e,a){"use strict";a.r(e);var n=a("7a23");const c={class:"content-title d-flex justify-content-between align-items-center"},o=Object(n["createElementVNode"])("h5",null,"Daftar Staff",-1),s=Object(n["createElementVNode"])("button",{class:"btn btn-with-addon btn-primary"},[Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-plus-circle"})]),Object(n["createTextVNode"])(" Tambah ")],-1),i=Object(n["createTextVNode"])(" Aktif "),r=Object(n["createTextVNode"])("Nonaktif"),l=["onClick"],d=Object(n["createElementVNode"])("small",null,[Object(n["createElementVNode"])("i",{class:"fe fe-zap-off"})],-1),u=[d],b=["onClick"],m=Object(n["createElementVNode"])("small",null,[Object(n["createElementVNode"])("i",{class:"fe fe-zap"})],-1),f=[m];function j(t,e,a,d,m,j){const O=Object(n["resolveComponent"])("router-link"),k=Object(n["resolveComponent"])("a-tag"),p=Object(n["resolveComponent"])("a-tooltip"),h=Object(n["resolveComponent"])("a-table");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",c,[o,Object(n["createVNode"])(O,{to:"/staffs/new"},{default:Object(n["withCtx"])(()=>[s]),_:1})]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(h,{columns:d.columns,"data-source":m.data,loading:m.loading,"row-key":t=>t.username,"custom-row":d.customRow},{roles:Object(n["withCtx"])(({text:t})=>[Object(n["createElementVNode"])("span",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t,(t,e)=>(Object(n["openBlock"])(),Object(n["createBlock"])(k,{key:`${t}-${e}`,color:"blue"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.toUpperCase()),1)]),_:2},1024))),128))])]),status:Object(n["withCtx"])(({text:t})=>[Object(n["createElementVNode"])("span",null,[1===t?(Object(n["openBlock"])(),Object(n["createBlock"])(k,{key:0,color:"success"},{default:Object(n["withCtx"])(()=>[i]),_:1})):Object(n["createCommentVNode"])("",!0),2===t?(Object(n["openBlock"])(),Object(n["createBlock"])(k,{key:1,color:"error"},{default:Object(n["withCtx"])(()=>[r]),_:1})):Object(n["createCommentVNode"])("",!0)])]),action:Object(n["withCtx"])(({record:t})=>[Object(n["createElementVNode"])("span",null,[1===t.status_id?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,placement:"topLeft",title:"Nonaktifkan"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(n["withModifiers"])(e=>j.openConfirmDelete(t.id),["stop"])},u,8,l)]),_:2},1024)):Object(n["createCommentVNode"])("",!0),2===t.status_id?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:1,placement:"topLeft",title:"Aktifkan"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(n["withModifiers"])(e=>j.activateStaff(t.id),["stop"])},f,8,b)]),_:2},1024)):Object(n["createCommentVNode"])("",!0)])]),_:1},8,["columns","data-source","loading","row-key","custom-row"])])])}var O=a("6605"),k=a("96d9"),p=a("f821");const h=[{title:"Nama",dataIndex:"full_name",key:"name"},{title:"Username",dataIndex:"username",key:"username"},{title:"Role",dataIndex:"roles",key:"roles",slots:{customRender:"roles"}},{title:"Status",dataIndex:"status_id",key:"status",slots:{customRender:"status"}},{title:"Aksi",key:"action",slots:{customRender:"action"}}];var w={setup(){const t=Object(O["d"])(),e=e=>({style:{cursor:"pointer"},onClick:()=>{t.push({path:"/staffs/view/"+e.id})}});return{columns:h,customRow:e}},data(){return{data:[],loading:!1}},mounted(){this.fetchData()},methods:{async fetchData(){this.loading=!0;try{const t=await Object(p["e"])();200===t.status&&(this.data=t.data)}catch(t){}this.loading=!1},async openConfirmDelete(t){this.$modal.confirm({title:()=>"Nonaktifkan",icon:()=>Object(n["createVNode"])(k["a"]),content:"Apakah Anda yakin untuk menonaktifkan staff ini?",onOk:()=>{this.deleteRecord(t)},onCancel:()=>{}})},async deleteRecord(t){this.$nprogress.start();try{const e=await Object(p["b"])(t);200===e.status&&(this.$notification.success({message:"Sukses",description:"Staff berhasil dinonaktifkan."}),this.fetchData())}catch(e){}this.$nprogress.done()},async activateStaff(t){try{const e=await Object(p["f"])(t,{status_id:1});200===e.status&&(this.$notification.success({message:"Sukses",description:"Staff berhasil diaktifkan."}),this.fetchData())}catch(e){}}}},N=a("d959"),x=a.n(N);const C=x()(w,[["render",j]]);e["default"]=C},f821:function(t,e,a){"use strict";a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return s})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return d}));var n=a("997a");const c=new n["a"],o=()=>c.axiosInstance.get("/administrator/administrators"),s=t=>c.axiosInstance.get("/administrator/administrators/"+t),i=t=>c.axiosInstance.post("/administrator/administrators",t),r=()=>c.axiosInstance.get("/administrator/administrators/roles"),l=(t,e)=>c.axiosInstance.put("/administrator/administrators/"+t,e),d=t=>c.axiosInstance.put("/administrator/administrators/"+t,{status_id:2})}}]);