(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-444aeb76"],{"036a":function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"i",(function(){return l})),a.d(t,"h",(function(){return d})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return u})),a.d(t,"j",(function(){return m})),a.d(t,"g",(function(){return p}));var o=a("997a");const i=new o["a"],c=()=>i.axiosInstance.get("/administrator/categories/"),r=e=>i.axiosInstance.get("/administrator/categories/"+e),s=e=>i.axiosInstance.post("/administrator/categories/",e),n=e=>i.axiosInstance.put("/administrator/categories/"+e,{active:!1}),l=(e,t)=>i.axiosInstance.put("/administrator/categories/"+e,t),d=e=>i.axiosInstance.get(`/administrator/categories/${e}/category_items`),b=(e,t)=>i.axiosInstance.put(`/administrator/categories/${e}/category_items/${t}`,{active:!1}),u=(e,t)=>i.axiosInstance.post(`/administrator/categories/${e}/category_items`,t,{headers:{"Content-Type":"multipart/form-data"}}),m=(e,t,a)=>i.axiosInstance.put(`/administrator/categories/${e}/category_items/${t}`,a,{headers:{"Content-Type":"multipart/form-data"}}),p=async()=>i.axiosInstance.get("/categories")},"0e9a":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));const o=(e,t)=>{const a=new FileReader;a.addEventListener("load",()=>t(a.result)),a.readAsDataURL(e)},i=e=>{if(!e)return[];const t=/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/,a=e.match(t);if(!a)return["file","blob"];const o=a[0].match(/\.\w+$/)[0];return[a[0].match(/^\w+/)[0],o]}},"47ce":function(e,t,a){"use strict";var o=a("7a23"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},c=i,r=a("b3f0");function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),o.forEach((function(t){n(e,t,a[t])}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=function(e,t){var a=s({},e,t.attrs);return Object(o["createVNode"])(r["a"],s({},a,{icon:c}),null)};l.displayName="PlusOutlined",l.inheritAttrs=!1;t["a"]=l},7868:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const i=Object(o["createElementVNode"])("div",{class:"content-title"},[Object(o["createElementVNode"])("div",{class:"d-flex"},[Object(o["createElementVNode"])("h5",null,"Detail Kategori")])],-1),c={class:"row"},r={class:"col-md-12"},s={class:"card"},n={class:"card-header card-header-flex"},l={class:"d-flex flex-fill justify-content-between align-items-center"},d=Object(o["createElementVNode"])("h6",{class:"mb-0"},"Data Kategori",-1),b=Object(o["createTextVNode"])("Aktif"),u=Object(o["createTextVNode"])("Non Aktif"),m={class:"card-body"},p={class:"row"},j={class:"col-12"},g={class:"row"},O={class:"col-12 mb-2"},h={class:"row"},f={class:"col-12 mb-2"},C={class:"row"},v={class:"col-12 mb-2"},y={class:"row"},N={class:"col-12 mb-2"},k=Object(o["createTextVNode"])("Aktif"),V=Object(o["createTextVNode"])("Non Aktif"),S={class:"row"},w={class:"col-12 mb-2"},E=["disabled"],x=Object(o["createElementVNode"])("span",{class:"btn-addon"},[Object(o["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),F=Object(o["createTextVNode"])(" Simpan "),U=[x,F],_={class:"row"},$={class:"col-md-12"},B={class:"card"},I={class:"card-header card-header-flex"},D={class:"d-flex flex-fill justify-content-between align-items-center"},T=Object(o["createElementVNode"])("h6",{class:"mb-0"},"Sub Kategori",-1),R=Object(o["createElementVNode"])("span",{class:"btn-addon"},[Object(o["createElementVNode"])("i",{class:"btn-addon-icon fe fe-plus-circle"})],-1),M=Object(o["createTextVNode"])(" Tambah "),A=[R,M],q={class:"card-body"},P=["src"],K=Object(o["createTextVNode"])("Aktif"),L=Object(o["createTextVNode"])("Nonaktif"),z={class:"mr-3"},G=["onClick"],J=Object(o["createElementVNode"])("small",null,[Object(o["createElementVNode"])("i",{class:"fe fe-edit"})],-1),H=[J],Q=["onClick"],W=Object(o["createElementVNode"])("small",null,[Object(o["createElementVNode"])("i",{class:"fe fe-zap-off"})],-1),X=[W],Y=["onClick"],Z=Object(o["createElementVNode"])("small",null,[Object(o["createElementVNode"])("i",{class:"fe fe-zap"})],-1),ee=[Z],te={class:"row"},ae={class:"col-12"},oe={class:"row"},ie={class:"col-12"},ce={class:"row"},re={class:"col-12"},se={class:"row"},ne={class:"col-12"},le=Object(o["createTextVNode"])("Ikon"),de={key:1,class:"upload-image-thumbnail-wrapper"},be=["src"],ue={key:2},me=Object(o["createElementVNode"])("div",{class:"ant-upload-text"},"Upload",-1),pe={class:"row"},je={class:"col-12"},ge={class:"row"},Oe={class:"col-12"},he={class:"row"},fe={class:"col-12"},Ce={class:"row"},ve={class:"col-12"},ye=Object(o["createTextVNode"])("Ikon"),Ne={key:1,class:"upload-image-thumbnail-wrapper"},ke=["src"],Ve={key:2},Se=Object(o["createElementVNode"])("div",{class:"ant-upload-text"},"Upload",-1);function we(e,t,a,x,F,R){const M=Object(o["resolveComponent"])("a-tag"),J=Object(o["resolveComponent"])("a-tooltip"),W=Object(o["resolveComponent"])("a-input"),Z=Object(o["resolveComponent"])("a-form-item"),we=Object(o["resolveComponent"])("a-input-number"),Ee=Object(o["resolveComponent"])("a-textarea"),xe=Object(o["resolveComponent"])("a-select-option"),Fe=Object(o["resolveComponent"])("a-select"),Ue=Object(o["resolveComponent"])("a-form"),_e=Object(o["resolveComponent"])("a-table"),$e=Object(o["resolveComponent"])("plus-outlined"),Be=Object(o["resolveComponent"])("a-upload"),Ie=Object(o["resolveComponent"])("a-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[i,Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",l,[d,Object(o["createElementVNode"])("div",null,[!0===F.additionalCategoryData.status?(Object(o["openBlock"])(),Object(o["createBlock"])(J,{key:0,placement:"top",title:"Kategori ini aktif"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(M,{color:"success"},{default:Object(o["withCtx"])(()=>[b]),_:1})]),_:1})):Object(o["createCommentVNode"])("",!0),!1===F.additionalCategoryData.status?(Object(o["openBlock"])(),Object(o["createBlock"])(J,{key:1,placement:"top",title:"Kategori ini tidak aktif dan tidak akan tampil di customer"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(M,{color:"error"},{default:Object(o["withCtx"])(()=>[u]),_:1})]),_:1})):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",j,[Object(o["createVNode"])(Ue,{ref:"formRef",model:x.formState,rules:x.rules,layout:"vertical",onFinish:R.handleFinish},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",O,[Object(o["createVNode"])(Z,{ref:"title",label:"Nama",name:"title"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(W,{value:x.formState.title,"onUpdate:value":t[0]||(t[0]=e=>x.formState.title=e),placeholder:"Nama kategori"},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("div",f,[Object(o["createVNode"])(Z,{ref:"position",label:"Posisi",name:"positon"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(we,{value:x.formState.position_id,"onUpdate:value":t[1]||(t[1]=e=>x.formState.position_id=e),placeholder:"Masukkan urutan posisi",min:1,style:{width:"100%"}},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("div",v,[Object(o["createVNode"])(Z,{ref:"description",label:"Deskripsi",name:"description"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ee,{value:x.formState.description,"onUpdate:value":t[2]||(t[2]=e=>x.formState.description=e),placeholder:"Deskripsi kategori (opsional)","allow-clear":""},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("div",N,[Object(o["createVNode"])(Z,{ref:"active",label:"Status",name:"active"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Fe,{value:x.formState.active,"onUpdate:value":t[3]||(t[3]=e=>x.formState.active=e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(xe,{value:!0},{default:Object(o["withCtx"])(()=>[k]),_:1}),Object(o["createVNode"])(xe,{value:!1},{default:Object(o["withCtx"])(()=>[V]),_:1})]),_:1},8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",S,[Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:F.loading},U,8,E)])])]),_:1},8,["model","rules","onFinish"])])])])])])]),Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",$,[Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("div",I,[Object(o["createElementVNode"])("div",D,[T,Object(o["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",onClick:t[4]||(t[4]=(...e)=>R.openNewSubCategoryForm&&R.openNewSubCategoryForm(...e))},A)])]),Object(o["createElementVNode"])("div",q,[Object(o["createVNode"])(_e,{columns:x.columns,"data-source":F.subCategories,loading:F.loadingSubCategoryTable,"row-key":e=>e.id},{icon:Object(o["withCtx"])(({text:e})=>[e?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,src:e,alt:"",width:"50",height:"50"},null,8,P)):Object(o["createCommentVNode"])("",!0)]),status:Object(o["withCtx"])(({text:e})=>[Object(o["createElementVNode"])("span",null,[!0===e?(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:0,color:"success"},{default:Object(o["withCtx"])(()=>[K]),_:1})):Object(o["createCommentVNode"])("",!0),!1===e?(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:1,color:"error"},{default:Object(o["withCtx"])(()=>[L]),_:1})):Object(o["createCommentVNode"])("",!0)])]),action:Object(o["withCtx"])(({record:e})=>[Object(o["createElementVNode"])("span",null,[Object(o["createElementVNode"])("span",z,[Object(o["createVNode"])(J,{placement:"topLeft",title:"Edit"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(o["withModifiers"])(t=>R.openUpdateSubCategoryForm(e),["stop"])},H,8,G)]),_:2},1024)]),Object(o["createElementVNode"])("span",null,[!0===e.active?(Object(o["openBlock"])(),Object(o["createBlock"])(J,{key:0,placement:"topLeft",title:"Non Aktifkan"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(o["withModifiers"])(t=>R.openConfirmDeleteSubCategory(e.id),["stop"])},X,8,Q)]),_:2},1024)):Object(o["createCommentVNode"])("",!0),!1===e.active?(Object(o["openBlock"])(),Object(o["createBlock"])(J,{key:1,placement:"topLeft",title:"Aktifkan"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(o["withModifiers"])(t=>R.activateSubCategory(e.id),["stop"])},ee,8,Y)]),_:2},1024)):Object(o["createCommentVNode"])("",!0)])])]),_:1},8,["columns","data-source","loading","row-key"])])])])]),Object(o["createVNode"])(Ie,{visible:x.subCategoryFormVisible,"onUpdate:visible":t[11]||(t[11]=e=>x.subCategoryFormVisible=e),title:"Tambah Sub Kategori","mask-closable":!1,"confirm-loading":F.loadingSubCategorySubmit,onOk:R.handleNewSubCategoryFinish},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ue,{layout:"vertical",ref:"subCategoryFormRef",model:x.subCategoryFormState,rules:x.subCategoryRules},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",te,[Object(o["createElementVNode"])("div",ae,[Object(o["createVNode"])(Z,{ref:"title",label:"Nama Subkategori",name:"title"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(W,{value:x.subCategoryFormState.title,"onUpdate:value":t[5]||(t[5]=e=>x.subCategoryFormState.title=e),placeholder:"Masukkan nama subkategori"},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",oe,[Object(o["createElementVNode"])("div",ie,[Object(o["createVNode"])(Z,{ref:"position",label:"Posisi",name:"positon"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(we,{value:x.subCategoryFormState.position_id,"onUpdate:value":t[6]||(t[6]=e=>x.subCategoryFormState.position_id=e),placeholder:"Masukkan urutan posisi",min:1,style:{width:"100%"}},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",ce,[Object(o["createElementVNode"])("div",re,[Object(o["createVNode"])(Z,{ref:"description",label:"Deskripsi",name:"description"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ee,{value:x.subCategoryFormState.description,"onUpdate:value":t[7]||(t[7]=e=>x.subCategoryFormState.description=e),placeholder:"Deskripsi subkategori (opsional)","allow-clear":""},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",se,[Object(o["createElementVNode"])("div",ne,[Object(o["createVNode"])(Z,null,{default:Object(o["withCtx"])(()=>[le]),_:1}),Object(o["createVNode"])(Be,{name:"icon",listType:"picture-card",class:"avatar-uploader avatar-uploader-has-overlay",accept:".png,.jpg,.jpeg","show-upload-list":!1,beforeUpload:()=>!1,onChange:t[10]||(t[10]=e=>x.handleIconChange(e))},{default:Object(o["withCtx"])(()=>[x.imageUrl?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"avatar-uploader-overlay",onClick:t[9]||(t[9]=Object(o["withModifiers"])(()=>{},["stop"]))},[Object(o["createElementVNode"])("i",{class:"fe fe-trash-2",onClick:t[8]||(t[8]=Object(o["withModifiers"])((...e)=>x.handleDeleteIcon&&x.handleDeleteIcon(...e),["stop"]))})])):Object(o["createCommentVNode"])("",!0),x.imageUrl?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",de,[Object(o["createElementVNode"])("img",{class:"upload-image-thumbnail",src:x.imageUrl,alt:""},null,8,be)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ue,[Object(o["createVNode"])($e),me]))]),_:1},8,["beforeUpload"])])])]),_:1},8,["model","rules"])]),_:1},8,["visible","confirm-loading","onOk"]),Object(o["createVNode"])(Ie,{visible:x.subCategoryUpdateFormVisible,"onUpdate:visible":t[18]||(t[18]=e=>x.subCategoryUpdateFormVisible=e),title:"Update Sub Kategori","mask-closable":!1,"confirm-loading":F.loadingSubCategoryUpdate,onOk:R.handleUpdateSubCategoryFinish},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ue,{layout:"vertical",ref:"updateSubCategoryFormRef",model:x.updateSubCategoryFormState,rules:x.subCategoryRules},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",pe,[Object(o["createElementVNode"])("div",je,[Object(o["createVNode"])(Z,{ref:"title",label:"Nama Subkategori",name:"title"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(W,{value:x.updateSubCategoryFormState.title,"onUpdate:value":t[12]||(t[12]=e=>x.updateSubCategoryFormState.title=e),placeholder:"Masukkan nama subkategori"},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",ge,[Object(o["createElementVNode"])("div",Oe,[Object(o["createVNode"])(Z,{ref:"description",label:"Deskripsi",name:"description"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ee,{value:x.updateSubCategoryFormState.description,"onUpdate:value":t[13]||(t[13]=e=>x.updateSubCategoryFormState.description=e),placeholder:"Deskripsi subkategori (opsional)","allow-clear":""},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",he,[Object(o["createElementVNode"])("div",fe,[Object(o["createVNode"])(Z,{ref:"position",label:"Posisi",name:"positon"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(we,{value:x.updateSubCategoryFormState.position_id,"onUpdate:value":t[14]||(t[14]=e=>x.updateSubCategoryFormState.position_id=e),placeholder:"Masukkan urutan posisi",min:1,style:{width:"100%"}},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",Ce,[Object(o["createElementVNode"])("div",ve,[Object(o["createVNode"])(Z,null,{default:Object(o["withCtx"])(()=>[ye]),_:1}),Object(o["createVNode"])(Be,{name:"icon",listType:"picture-card",class:"avatar-uploader avatar-uploader-has-overlay",accept:".png,.jpg,.jpeg","show-upload-list":!1,beforeUpload:()=>!1,onChange:t[17]||(t[17]=e=>x.handleIconChange(e,"update"))},{default:Object(o["withCtx"])(()=>[x.imageUrlUpdate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"avatar-uploader-overlay",onClick:t[16]||(t[16]=Object(o["withModifiers"])(()=>{},["stop"]))},[Object(o["createElementVNode"])("i",{class:"fe fe-trash-2",onClick:t[15]||(t[15]=Object(o["withModifiers"])(()=>x.handleDeleteIcon("update"),["stop"]))})])):Object(o["createCommentVNode"])("",!0),x.imageUrlUpdate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ne,[Object(o["createElementVNode"])("img",{class:"upload-image-thumbnail",src:x.imageUrlUpdate,alt:""},null,8,ke)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ve,[Object(o["createVNode"])($e),Se]))]),_:1},8,["beforeUpload"])])])]),_:1},8,["model","rules"])]),_:1},8,["visible","confirm-loading","onOk"])])}var Ee=a("036a"),xe=a("47ce"),Fe=a("96d9"),Ue=a("0e9a");const _e=[{title:"Nama",dataIndex:"title",key:"title"},{title:"Ikon",key:"icon",dataIndex:"icon",slots:{customRender:"icon"}},{title:"Deskripsi",dataIndex:"description",key:"description"},{title:"Posisi",dataIndex:"position",key:"position"},{title:"Status",dataIndex:"active",key:"status",slots:{customRender:"status"}},{title:"Aksi",key:"action",slots:{customRender:"action"}}];var $e={props:{id:String},components:{PlusOutlined:xe["a"]},setup(){const e=Object(o["ref"])(),t=Object(o["reactive"])({title:"",description:"",position_id:null,active:null}),a=Object(o["ref"])(),i=Object(o["reactive"])({title:"",description:"",position_id:null}),c=Object(o["ref"])(),r=Object(o["reactive"])({title:"",description:"",position_id:null}),s=Object(o["ref"])(!1),n=Object(o["ref"])(!1),l=Object(o["ref"])([]),d=Object(o["ref"])(""),b=Object(o["ref"])(),u=Object(o["ref"])([]),m=Object(o["ref"])(""),p=Object(o["ref"])(),j=(e,t="new")=>{O(e.file)&&Object(Ue["a"])(e.file,a=>{"new"===t?(d.value=a,b.value=e.file):"update"===t&&(m.value=a,p.value=e.file)})},g=(e="new")=>{"new"===e?(l.value=[],d.value="",b.value=null):"update"===e&&(u.value=[],m.value="",p.value=null)},O=e=>{const t="image/jpeg"===e.type||"image/png"===e.type||"image/jpeg"===e.type;let a=!0;t||(this.$notification.warning({message:"Gagal Upload",description:"Format file tidak benar."}),a=!1);const o=e.size/1024/1024<2;return o||(this.$notification.warning({message:"Gagal Upload",description:"Ukuran file terlalu besar"}),a=!1),a},h={title:[{required:!0,message:"Nama kategori tidak boleh kosong.",trigger:"change"}]},f={title:[{required:!0,message:"Nama subkategori tidak boleh kosong.",trigger:"change"}]};return{formRef:e,formState:t,subCategoryFormRef:a,subCategoryFormState:i,updateSubCategoryFormRef:c,updateSubCategoryFormState:r,subCategoryRules:f,rules:h,columns:_e,fileList:l,imageUrl:d,imageThumbnail:b,fileListUpdate:u,imageUrlUpdate:m,imageThumbnailUpdate:p,handleIconChange:j,handleDeleteIcon:g,subCategoryFormVisible:s,subCategoryUpdateFormVisible:n}},data(){return{loading:!1,loadingSubCategoryTable:!1,loadingSubCategorySubmit:!1,loadingSubCategoryUpdate:!1,subCategories:[],additionalCategoryData:{status:null},activeSubCategoryId:null}},mounted(){this.fetchCategory(),this.fetchSubCategories()},methods:{handleFinish(){this.formRef.validate().then(()=>this.submitData()).catch(()=>{})},async submitData(){this.loading=!0,this.$nprogress.start();try{const e=await Object(Ee["i"])(this.$props.id,Object(o["toRaw"])(this.formState));200===e.status&&(this.$notification.success({message:"Sukses",description:"Kategori berhasil diperbarui."}),this.fetchCategory())}catch(e){}this.loading=!1,this.$nprogress.done()},async fetchCategory(){try{const e=await Object(Ee["f"])(this.$props.id);if(200===e.status){const t=e.data;this.formState.title=t.title,this.formState.description=t.description,this.formState.position_id=t.position_id,this.formState.active=t.active,this.additionalCategoryData.status=t.active}}catch(e){}},async fetchSubCategories(){this.loadingSubCategoryTable=!0;try{const e=await Object(Ee["h"])(this.$props.id);200===e.status&&(this.subCategories=e.data)}catch(e){}this.loadingSubCategoryTable=!1},async openConfirmDeleteSubCategory(e){this.$modal.confirm({title:()=>"Nonaktifkan",icon:()=>Object(o["createVNode"])(Fe["a"]),content:"Apakah Anda yakin untuk nonaktifkan subkategori ini?",onOk:()=>{this.deleteRecordSubCategory(e)},onCancel:()=>{}})},async deleteRecordSubCategory(e){this.$nprogress.start();try{const t=await Object(Ee["d"])(this.$props.id,e);200===t.status&&(this.$notification.success({message:"Sukses",description:"Subkategori berhasil dinonaktifkan."}),this.fetchSubCategories())}catch(t){}this.$nprogress.done()},openNewSubCategoryForm(){this.subCategoryFormVisible=!0},openUpdateSubCategoryForm(e){this.updateSubCategoryFormState.title=e.title,this.updateSubCategoryFormState.description=e.description,this.updateSubCategoryFormState.position_id=e.position_id,this.imageUrlUpdate=e.icon,this.subCategoryUpdateFormVisible=!0,this.activeSubCategoryId=e.id},handleNewSubCategoryFinish(){this.subCategoryFormRef.validate().then(()=>this.submitSubCategory()).catch(()=>{})},async submitSubCategory(){this.loadingSubCategorySubmit=!0,this.$nprogress.start();const e=new FormData;e.append("title",this.subCategoryFormState.title),this.subCategoryFormState.position_id&&e.append("position_id",this.subCategoryFormState.position_id),this.subCategoryFormState.description&&e.append("description",this.subCategoryFormState.description),this.imageThumbnail&&e.append("icon",this.imageThumbnail);try{const t=await Object(Ee["b"])(this.$props.id,e);t.status&&(this.$notification.success({message:"Sukses",description:"Subkategori berhasil ditambahkan."}),this.fetchSubCategories(),this.subCategoryFormRef.resetFields())}catch(t){}this.loadingSubCategorySubmit=!1,this.$nprogress.done(),this.subCategoryFormVisible=!1},handleUpdateSubCategoryFinish(){this.updateSubCategoryFormRef.validate().then(()=>this.submitUpdateSubCategory(this.activeSubCategoryId)).catch(()=>{})},async submitUpdateSubCategory(e){this.loadingSubCategoryUpdate=!0,this.$nprogress.start();const t=new FormData;t.append("title",this.updateSubCategoryFormState.title),t.append("description",this.updateSubCategoryFormState.description||null),void 0!==this.imageThumbnailUpdate&&t.append("icon",this.imageThumbnailUpdate);try{const a=await Object(Ee["j"])(this.$props.id,e,t);200===a.status&&(this.$notification.success({message:"Sukses",description:"Subkategori berhasil diperbarui."}),this.fetchSubCategories(),this.updateSubCategoryFormRef.resetFields())}catch(a){}this.loadingSubCategoryUpdate=!1,this.$nprogress.done(),this.subCategoryUpdateFormVisible=!1},async activateSubCategory(e){this.$nprogress.start();try{const t=new FormData;t.append("active","true");const a=await Object(Ee["j"])(this.$props.id,e,t);200===a.status&&(this.$notification.success({message:"Sukses",description:"Subkategori berhasil diaktifkan"}),this.fetchSubCategories())}catch(t){}this.$nprogress.done()}}},Be=a("d959"),Ie=a.n(Be);const De=Ie()($e,[["render",we]]);t["default"]=De}}]);