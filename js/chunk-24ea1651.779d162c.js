(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24ea1651"],{"036a":function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return d})),r.d(t,"i",(function(){return l})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return b})),r.d(t,"b",(function(){return m})),r.d(t,"j",(function(){return p})),r.d(t,"g",(function(){return f}));var n=r("1da1"),c=(r("96cf"),r("99af"),r("997a")),a=new c["a"],o=function(){return a.axiosInstance.get("/administrator/categories/")},i=function(e){return a.axiosInstance.get("/administrator/categories/".concat(e))},s=function(e){return a.axiosInstance.post("/administrator/categories/",e)},d=function(e){return a.axiosInstance.put("/administrator/categories/".concat(e),{active:!1})},l=function(e,t){return a.axiosInstance.put("/administrator/categories/".concat(e),t)},u=function(e){return a.axiosInstance.get("/administrator/categories/".concat(e,"/category_items"))},b=function(e,t){return a.axiosInstance.put("/administrator/categories/".concat(e,"/category_items/").concat(t),{active:!1})},m=function(e,t){return a.axiosInstance.post("/administrator/categories/".concat(e,"/category_items"),t,{headers:{"Content-Type":"multipart/form-data"}})},p=function(e,t,r){return a.axiosInstance.put("/administrator/categories/".concat(e,"/category_items/").concat(t),r,{headers:{"Content-Type":"multipart/form-data"}})},f=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.axiosInstance.get("/categories"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},1045:function(e,t,r){},"3b9d":function(e,t,r){"use strict";r("1045")},"3f2c":function(e,t,r){"use strict";r.d(t,"h",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"j",(function(){return l})),r.d(t,"i",(function(){return d})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return b})),r.d(t,"k",(function(){return m})),r.d(t,"a",(function(){return p})),r.d(t,"f",(function(){return f}));var n=r("997a"),c=new n["a"],a=function(e){return c.axiosInstance.get("/administrator/orders",{params:e})},o=function(e){return c.axiosInstance.get("/administrator/orders/".concat(e))},i=function(){return c.axiosInstance.get("/administrator/orders/statuses")},s=function(e){return c.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/customer_care_accept_device"))},d=function(e){return c.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/technician_accept_job"))},l=function(e){return c.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/finish_the_service"))},u=function(e){return c.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/finish_the_order"))},b=function(e){return c.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/cancel_the_order"))},m=function(e,t){return c.axiosInstance.put("/administrator/orders/".concat(e),t)},p=function(e){return c.axiosInstance.post("/administrator/orders/",e)},f=function(e){return c.axiosInstance.get("/administrator/orders/".concat(e,"/feedbacks"))}},aa19:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),c=function(e){return Object(n["pushScopeId"])("data-v-37d08c32"),e=e(),Object(n["popScopeId"])(),e},a={class:"row content-title align-items-center"},o=c((function(){return Object(n["createElementVNode"])("div",{class:"col-12 col-md-4 mb-4 mb-md-0"},[Object(n["createElementVNode"])("h5",null,"Detail Order")],-1)})),i={class:"col-12 col-md-8 text-md-right"},s={key:0},d={key:0,class:"d-inline-block"},l={key:0,class:"d-inline-block"},u=c((function(){return Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-x-circle"})],-1)})),b=Object(n["createTextVNode"])(" Cancel Order "),m=[u,b],p=c((function(){return Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)})),f=Object(n["createTextVNode"])(" Selesaikan Order "),O=[p,f],j=c((function(){return Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)})),g=Object(n["createTextVNode"])(" Selesaikan Job "),h=[j,g],k=c((function(){return Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)})),v=Object(n["createTextVNode"])(" Terima Job "),_=[k,v],y=c((function(){return Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)})),N=Object(n["createTextVNode"])(" Terima Perangkat "),V=[y,N],x={class:"btn-addon"},E={key:0,class:"btn-addon-icon fe fe-edit"},C={key:1,class:"btn-addon-icon fe fe-x"},w=c((function(){return Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1)})),S=Object(n["createTextVNode"])(" Simpan "),B=[w,S],I={class:"row"},T={key:0,class:"col-md-12"},D={class:"card"},R={class:"card-header"},F={class:"row"},$={class:"col-6"},M={class:"mb-3"},P={class:"col-6 text-right"},J={class:"row mb-4"},q={class:"col-md-6 mb-4 mb-md-0"},H=c((function(){return Object(n["createElementVNode"])("div",{class:"mb-1"},[Object(n["createElementVNode"])("h6",null,"Informasi Customer :")],-1)})),U={key:0},z={class:"mb-1"},K={class:"mb-1"},A={class:"mb-1"},L={key:1},G=c((function(){return Object(n["createElementVNode"])("span",null,"-",-1)})),Q=[G],W={class:"col-md-6 text-md-right"},X=c((function(){return Object(n["createElementVNode"])("div",{class:"mb-1"},[Object(n["createElementVNode"])("h6",null,"Tanggal dan Kategori :")],-1)})),Y={class:"mb-1"},Z={class:"mb-1"},ee={key:0},te={key:1},re={key:0},ne={class:"row"},ce={class:"col-md-6"},ae=c((function(){return Object(n["createElementVNode"])("div",{class:"mb-1"},[Object(n["createElementVNode"])("h6",null,"Teknisi :")],-1)})),oe={key:0},ie=Object(n["createTextVNode"])(" Lihat Offer "),se={class:"col-md-6 text-md-right"},de=c((function(){return Object(n["createElementVNode"])("div",{class:"mb-1"},[Object(n["createElementVNode"])("h6",null,"Informasi Perangkat :")],-1)})),le={class:"mb-1"},ue=c((function(){return Object(n["createElementVNode"])("span",null,"Tipe Perangkat",-1)})),be=Object(n["createTextVNode"])(" : "),me={key:1},pe={class:"mb-1"},fe=c((function(){return Object(n["createElementVNode"])("span",null,"Kode Serial",-1)})),Oe=Object(n["createTextVNode"])(" : "),je={key:1},ge={class:"card-body"},he={class:"row mb-5"},ke={class:"col-12"},ve={class:"row mt-4"},_e={class:"col-md-6 mb-4 mb-md-0"},ye=c((function(){return Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("h6",null,"Masukkan catatan")],-1)})),Ne={key:1},Ve={class:"col-md-6 text-md-right"},xe=c((function(){return Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("h6",null,"Grand Total")],-1)})),Ee={key:1,class:"grand-price"},Ce={key:0,class:"row"},we={class:"col-md-12"},Se={class:"card"},Be=c((function(){return Object(n["createElementVNode"])("div",{class:"card-header"},[Object(n["createElementVNode"])("h6",{class:"m-0"},"Feedback Customer")],-1)})),Ie={class:"card-body"},Te={class:"row mb-3"},De={class:"col-12"},Re={class:"row"},Fe={class:"col-12"};function $e(e,t,r,c,u,b){var p=Object(n["resolveComponent"])("a-tag"),f=Object(n["resolveComponent"])("router-link"),j=Object(n["resolveComponent"])("CheckCircleTwoTone"),g=Object(n["resolveComponent"])("a-tooltip"),k=Object(n["resolveComponent"])("a-select"),v=Object(n["resolveComponent"])("a-form-item"),y=Object(n["resolveComponent"])("a-input"),N=Object(n["resolveComponent"])("a-table"),w=Object(n["resolveComponent"])("a-textarea"),S=Object(n["resolveComponent"])("a-input-number"),G=Object(n["resolveComponent"])("a-form"),$e=Object(n["resolveComponent"])("a-radio"),Me=Object(n["resolveComponent"])("a-divider"),Pe=Object(n["resolveComponent"])("a-spin");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",a,[o,Object(n["createElementVNode"])("div",i,[u.loadingFetch||null===u.order?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[6!==u.order.status_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",d,[u.editing||5===u.order.status_id?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("button",{class:"btn btn-with-addon btn-danger",onClick:t[0]||(t[0]=function(){return b.handleCancelOrder&&b.handleCancelOrder.apply(b,arguments)})},m),4===u.order.status_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"btn btn-with-addon btn-primary ml-3",onClick:t[1]||(t[1]=function(){return b.finishOrder&&b.finishOrder.apply(b,arguments)})},O)):Object(n["createCommentVNode"])("",!0),3===u.order.status_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"btn btn-with-addon btn-success ml-3",onClick:t[2]||(t[2]=function(){return b.finishJob&&b.finishJob.apply(b,arguments)})},h)):Object(n["createCommentVNode"])("",!0),2===u.order.status_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:2,class:"btn btn-with-addon btn-success ml-3",onClick:t[3]||(t[3]=function(){return b.acceptJob&&b.acceptJob.apply(b,arguments)})},_)):Object(n["createCommentVNode"])("",!0),1===u.order.status_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:3,class:"btn btn-with-addon btn-success ml-3",onClick:t[4]||(t[4]=function(){return b.acceptDevice&&b.acceptDevice.apply(b,arguments)})},V)):Object(n["createCommentVNode"])("",!0)])),5!==u.order.status_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"btn btn-with-addon btn-light ml-3",onClick:t[5]||(t[5]=function(){return b.startEdit&&b.startEdit.apply(b,arguments)})},[Object(n["createElementVNode"])("span",x,[u.editing?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",E)),u.editing?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",C)):Object(n["createCommentVNode"])("",!0)]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(u.editing?"Batal Edit":"Edit"),1)])):Object(n["createCommentVNode"])("",!0),u.editing?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:2,class:"btn btn-with-addon btn-primary ml-3",onClick:t[6]||(t[6]=function(){return b.handleFinish&&b.handleFinish.apply(b,arguments)})},B)):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0)]))])]),Object(n["createVNode"])(Pe,{spinning:u.loadingFetch},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",I,[u.order?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",T,[Object(n["createVNode"])(G,{ref:"formRef",model:c.formState,rules:c.rules},{default:Object(n["withCtx"])((function(){var e;return[Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("div",F,[Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("h5",M,"ORDER#"+Object(n["toDisplayString"])(u.order.id),1)]),Object(n["createElementVNode"])("div",P,[1===u.order.status_id?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,class:"mx-0"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(u.order.status),1)]})),_:1})):u.order.status_id>1&&u.order.status_id<5?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:1,color:"green",class:"mx-0"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(u.order.status),1)]})),_:1})):5===u.order.status_id?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:2,color:"blue",class:"mx-0"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(u.order.status),1)]})),_:1})):6===u.order.status_id?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:3,color:"red",class:"mx-0"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(u.order.status),1)]})),_:1})):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",J,[Object(n["createElementVNode"])("div",q,[H,u.order.customer?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",U,[Object(n["createElementVNode"])("div",z,[Object(n["createVNode"])(f,{to:"/customers/view/".concat(u.order.customer.id),class:"text-primary"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(u.order.customer.email),1)]})),_:1},8,["to"]),u.order.customer.verified_email?(Object(n["openBlock"])(),Object(n["createBlock"])(g,{key:0,title:"Sudah Verifikasi",class:"ml-1"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(j,{twoToneColor:"#41b883"})]})),_:1})):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",K,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(u.order.customer.full_name),1)]),Object(n["createElementVNode"])("div",A,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(u.order.customer.phone_number),1)])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",L,Q))]),Object(n["createElementVNode"])("div",W,[X,Object(n["createElementVNode"])("div",Y,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(u.order.created_at),1)]),Object(n["createElementVNode"])("div",Z,[u.editing?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ee,[Object(n["createElementVNode"])("a",{class:"d-block mb-0 mt-2 text-primary",onClick:t[7]||(t[7]=function(){return b.toggleInputCategoryMode&&b.toggleInputCategoryMode.apply(b,arguments)})},Object(n["toDisplayString"])(c.useManualInputCategory?"Pilih sub kategori?":"Sub kategori tidak ada?"),1),c.useManualInputCategory?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0,ref:"category_item_id",name:"category_item_id"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{value:c.formState.category_item_id,"onUpdate:value":t[8]||(t[8]=function(e){return c.formState.category_item_id=e}),options:b.getCategoryOptions,placeholder:"Pilih Sub kategori",class:"text-left w-100"},null,8,["value","options"])]})),_:1},512)),c.useManualInputCategory?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:1,ref:"category_item_string",name:"category_item_string"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(y,{value:c.formState.category_item_string,"onUpdate:value":t[9]||(t[9]=function(e){return c.formState.category_item_string=e}),class:"w-100",placeholder:"Masukkan nama Sub kategori"},null,8,["value"])]})),_:1},512)):Object(n["createCommentVNode"])("",!0)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",te,[0===u.order.category_item_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",re,Object(n["toDisplayString"])(u.order.category_item_caption),1)):(Object(n["openBlock"])(),Object(n["createBlock"])(f,{key:1,to:"/categories/view/".concat(u.order.category_item_id),class:"text-primary"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(u.order.category_item_caption),1)]})),_:1},8,["to"]))]))])])]),Object(n["createElementVNode"])("div",ne,[Object(n["createElementVNode"])("div",ce,[ae,Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(e=u.order.technician)||void 0===e?void 0:e.full_name)||"-"),1)]),u.order.offer?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",oe,[Object(n["createVNode"])(f,{class:"text-primary",to:"/offers/view/".concat(u.order.offer.id)},{default:Object(n["withCtx"])((function(){return[ie]})),_:1},8,["to"])])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",se,[de,Object(n["createElementVNode"])("div",le,[ue,be,u.editing?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0,class:"d-inline-block",ref:"device_type",name:"device_type"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(y,{value:c.formState.device_type,"onUpdate:value":t[10]||(t[10]=function(e){return c.formState.device_type=e}),placeholder:"Masukkan tipe perangkat"},null,8,["value"])]})),_:1},512)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",me,Object(n["toDisplayString"])(u.order.device_type),1))]),Object(n["createElementVNode"])("div",pe,[fe,Oe,u.editing?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0,class:"d-inline-block",ref:"device_serial_number",name:"device_serial_number"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(y,{value:c.formState.device_serial_number,"onUpdate:value":t[11]||(t[11]=function(e){return c.formState.device_serial_number=e}),placeholder:"Masukkan nomor serial perangkat"},null,8,["value"])]})),_:1},512)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",je,Object(n["toDisplayString"])(u.order.device_serial_number),1))])])])]),Object(n["createElementVNode"])("div",ge,[Object(n["createElementVNode"])("div",he,[Object(n["createElementVNode"])("div",ke,[Object(n["createVNode"])(N,{columns:c.columns,"row-key":function(e){return e.id},"data-source":u.offers,pagination:!1},{price:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(u.order.formatted_price),1)]})),_:1},8,["columns","row-key","data-source"])])]),Object(n["createElementVNode"])("div",ve,[Object(n["createElementVNode"])("div",_e,[ye,u.editing?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0,ref:"note",name:"note"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(w,{value:c.formState.note,"onUpdate:value":t[12]||(t[12]=function(e){return c.formState.note=e}),placeholder:"Catatan",row:4},null,8,["value"])]})),_:1},512)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ne,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(u.order.note),1)]))]),Object(n["createElementVNode"])("div",Ve,[xe,Object(n["createElementVNode"])("div",null,[u.editing?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0,ref:"price",name:"price"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(S,{placeholder:"Harga",min:0,step:1e4,value:c.formState.price,"onUpdate:value":t[13]||(t[13]=function(e){return c.formState.price=e})},null,8,["value"])]})),_:1},512)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("strong",Ee,Object(n["toDisplayString"])(u.order.formatted_price),1))])])])])])]})),_:1},8,["model","rules"])])):Object(n["createCommentVNode"])("",!0)]),u.order&&5===u.order.status_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ce,[Object(n["createElementVNode"])("div",we,[Object(n["createElementVNode"])("div",Se,[Be,Object(n["createElementVNode"])("div",Ie,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(u.orderFeedbacks,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e.id},[Object(n["createElementVNode"])("div",Te,[Object(n["createElementVNode"])("div",De,Object(n["toDisplayString"])(e.feedback_question.question),1)]),Object(n["createElementVNode"])("div",Re,[Object(n["createElementVNode"])("div",Fe,[Object(n["createVNode"])($e,{checked:1===e.choice_id},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.feedback_question.choice_1),1)]})),_:2},1032,["checked"]),Object(n["createVNode"])($e,{checked:2===e.choice_id},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.feedback_question.choice_2),1)]})),_:2},1032,["checked"]),Object(n["createVNode"])($e,{checked:3===e.choice_id},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.feedback_question.choice_3),1)]})),_:2},1032,["checked"]),Object(n["createVNode"])($e,{checked:4===e.choice_id},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.feedback_question.choice_4),1)]})),_:2},1032,["checked"]),Object(n["createVNode"])($e,{checked:5===e.choice_id},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.feedback_question.choice_5),1)]})),_:2},1032,["checked"])])]),Object(n["createVNode"])(Me)])})),128))])])])])):Object(n["createCommentVNode"])("",!0)]})),_:1},8,["spinning"])])}var Me=r("1da1"),Pe=(r("96cf"),r("d3b7"),r("d81d"),r("a4d3"),r("e01a"),{icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:t}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"}),Je=Pe,qe=r("b3f0");function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ue(e,t,r[t])}))}return e}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=function(e,t){var r=He({},e,t.attrs);return n["createVNode"](qe["a"],n["mergeProps"](r,{icon:Je}),null)};ze.displayName="CheckCircleTwoTone",ze.inheritAttrs=!1;var Ke=ze,Ae=r("96d9"),Le=r("3f2c"),Ge=r("036a"),Qe=[{title:"Kategori",dataIndex:"category_item_caption",key:"category"},{title:"Tipe Perangkat",dataIndex:"device_type",key:"deviceType"},{title:"Harga",key:"price",slots:{customRender:"price"}}],We={props:{id:String},components:{CheckCircleTwoTone:Ke},setup:function(){var e=Object(n["ref"])(!1),t=Object(n["ref"])(),r=Object(n["reactive"])({category_item_id:void 0,category_item_string:void 0,device_type:void 0,device_serial_number:void 0,note:void 0,price:void 0}),c=function(){var t=Object(Me["a"])(regeneratorRuntime.mark((function t(n,c){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.value){t.next=6;break}if(r.category_item_string){t.next=3;break}return t.abrupt("return",Promise.reject("Kategori tidak boleh kosong"));case 3:return t.abrupt("return",Promise.resolve());case 6:if(c){t.next=8;break}return t.abrupt("return",Promise.reject("Kategori tidak boleh kosong"));case 8:return t.abrupt("return",Promise.resolve());case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),a=function(){var e=Object(Me["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.price){e.next=2;break}return e.abrupt("return",Promise.reject("Harga tidak boleh kosong"));case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o={category_item_id:[{validator:c,trigger:"change"}],category_item_string:[{validator:c,trigger:"change"}],device_type:[{required:!0,message:"Tipe perangkat tidak boleh kosong",trigger:"change"}],device_serial_number:[{required:!0,message:"No seri perangkat tidak boleh kosong",trigger:"change"}],price:[{validator:a,trigger:"change"},{type:"number",message:"Harga harus berupa angka",trigger:"change"}]};return{columns:Qe,formRef:t,formState:r,rules:o,useManualInputCategory:e}},data:function(){return{order:null,orderFeedbacks:[],offers:[],loadingFetch:!0,loadingChangeStatus:!1,loadingSubmit:!1,editing:!1,categories:[]}},mounted:function(){this.fetchData(),this.fetchCategories()},computed:{getCategoryOptions:function(){return this.categories.map((function(e){return{label:e.description,options:e.subcategories.map((function(e){return{value:e.id,label:e.title}}))}}))}},methods:{fetchData:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Le["e"])(e.$props.id);case 3:r=t.sent,200===r.status&&(e.order=r.data,r.data.offer&&(e.offers=[r.data.offer]),e.fillFormFields(),5===e.order.status_id&&e.fetchOrderFeedback()),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:e.loadingFetch=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},fetchOrderFeedback:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Le["f"])(e.$props.id);case 3:r=t.sent,200===r.status&&(e.orderFeedbacks=r.data),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},submitData:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={category_item_id:"",category_item_string:"",device_type:e.formState.device_type,device_serial_number:e.formState.device_serial_number,note:e.formState.note,price:e.formState.price},e.useManualInputCategory?(r.category_item_id=0,r.category_item_string=e.formState.category_item_string):r.category_item_id=e.formState.category_item_id,e.$nprogress.start(),e.loadingSubmit=!0,t.prev=4,t.next=7,Object(Le["k"])(e.$props.id,r);case 7:n=t.sent,200===n.status&&(e.$notification.success({message:"Sukses",description:"Order berhasil diperbarui"}),e.editing=!1,e.order=n.data,e.fillFormFields()),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](4);case 13:e.$nprogress.done(),e.loadingSubmit=!1;case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))()},handleFinish:function(){var e=this;this.formRef.validate().then((function(){e.submitData()})).catch((function(){}))},fillFormFields:function(){this.formState.note=this.order.note,0!==this.order.category_id?this.formState.category_item_id=this.order.category_item_id:(this.formState.category_item_string=this.order.category_item_string,this.useManualInputCategory=!0),this.formState.device_serial_number=this.order.device_serial_number,this.formState.device_type=this.order.device_type,this.formState.price=parseInt(this.order.price,10)},fetchCategories:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ge["g"])();case 3:r=t.sent,200===r.status&&(e.categories=r.data),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},finishOrder:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingChangeStatus=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(Le["d"])(e.$props.id);case 5:r=t.sent,200===r.status&&(e.$notification.success({message:"Sukses",description:"Order berhasil diselesaikan."}),e.order=r.data),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.$nprogress.done(),e.loadingChangeStatus=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},finishJob:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingChangeStatus=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(Le["j"])(e.$props.id);case 5:r=t.sent,200===r.status&&(e.$notification.success({message:"Sukses",description:"Status pengerjaan berhasil diubah."}),e.order=r.data,e.fillFormFields()),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.$nprogress.done(),e.loadingChangeStatus=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},acceptJob:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingChangeStatus=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(Le["i"])(e.$props.id);case 5:r=t.sent,200===r.status&&(e.$notification.success({message:"Sukses",description:"Status order berhasil diubah."}),e.order=r.data,e.fillFormFields()),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.$nprogress.done(),e.loadingChangeStatus=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},acceptDevice:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingChangeStatus=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(Le["b"])(e.$props.id);case 5:r=t.sent,200===r.status&&(e.$notification.success({message:"Sukses",description:"Order berhasil diterima."}),e.order=r.data,e.fillFormFields()),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.$nprogress.done(),e.loadingChangeStatus=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},cancelOrder:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingChangeStatus=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(Le["c"])(e.$props.id);case 5:r=t.sent,200===r.status&&(e.$notification.success({message:"Sukses",description:"Order berhasil dibatalkan."}),e.order=r.data),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.$nprogress.done(),e.loadingChangeStatus=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},handleCancelOrder:function(){var e=this;this.$modal.confirm({title:function(){return"Batal Order"},icon:function(){return Object(n["createVNode"])(Ae["a"])},content:"Apakah Anda yakin untuk membatalkan orderan ini?",onOk:function(){e.cancelOrder()},onCancel:function(){}})},startEdit:function(){if(this.editing)return this.editing=!1,void this.fillFormFields();this.editing=!0},toggleInputCategoryMode:function(){this.useManualInputCategory=!this.useManualInputCategory}}},Xe=(r("3b9d"),r("6b0d")),Ye=r.n(Xe);const Ze=Ye()(We,[["render",$e],["__scopeId","data-v-37d08c32"]]);t["default"]=Ze},d81d:function(e,t,r){"use strict";var n=r("23e7"),c=r("b727").map,a=r("1dde"),o=a("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);