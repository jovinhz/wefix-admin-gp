(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20be0556"],{"036a":function(e,t,c){"use strict";c.d(t,"e",(function(){return r})),c.d(t,"f",(function(){return n})),c.d(t,"a",(function(){return i})),c.d(t,"c",(function(){return s})),c.d(t,"i",(function(){return d})),c.d(t,"h",(function(){return l})),c.d(t,"d",(function(){return b})),c.d(t,"b",(function(){return m})),c.d(t,"j",(function(){return u})),c.d(t,"g",(function(){return O}));var a=c("997a");const o=new a["a"],r=()=>o.axiosInstance.get("/administrator/categories/"),n=e=>o.axiosInstance.get("/administrator/categories/"+e),i=e=>o.axiosInstance.post("/administrator/categories/",e),s=e=>o.axiosInstance.put("/administrator/categories/"+e,{active:!1}),d=(e,t)=>o.axiosInstance.put("/administrator/categories/"+e,t),l=e=>o.axiosInstance.get(`/administrator/categories/${e}/category_items`),b=(e,t)=>o.axiosInstance.put(`/administrator/categories/${e}/category_items/${t}`,{active:!1}),m=(e,t)=>o.axiosInstance.post(`/administrator/categories/${e}/category_items`,t,{headers:{"Content-Type":"multipart/form-data"}}),u=(e,t,c)=>o.axiosInstance.put(`/administrator/categories/${e}/category_items/${t}`,c,{headers:{"Content-Type":"multipart/form-data"}}),O=async()=>o.axiosInstance.get("/categories")},1045:function(e,t,c){},"3b9d":function(e,t,c){"use strict";c("1045")},"3f2c":function(e,t,c){"use strict";c.d(t,"h",(function(){return r})),c.d(t,"g",(function(){return i})),c.d(t,"e",(function(){return n})),c.d(t,"b",(function(){return s})),c.d(t,"j",(function(){return l})),c.d(t,"i",(function(){return d})),c.d(t,"d",(function(){return b})),c.d(t,"c",(function(){return m})),c.d(t,"k",(function(){return u})),c.d(t,"a",(function(){return O})),c.d(t,"f",(function(){return j}));var a=c("997a");const o=new a["a"],r=e=>o.axiosInstance.get("/administrator/orders",{params:e}),n=e=>o.axiosInstance.get("/administrator/orders/"+e),i=()=>o.axiosInstance.get("/administrator/orders/statuses"),s=e=>o.axiosInstance.post(`/administrator/orders/${e}/order_logs/customer_care_accept_device`),d=e=>o.axiosInstance.post(`/administrator/orders/${e}/order_logs/technician_accept_job`),l=e=>o.axiosInstance.post(`/administrator/orders/${e}/order_logs/finish_the_service`),b=e=>o.axiosInstance.post(`/administrator/orders/${e}/order_logs/finish_the_order`),m=e=>o.axiosInstance.post(`/administrator/orders/${e}/order_logs/cancel_the_order`),u=(e,t)=>o.axiosInstance.put("/administrator/orders/"+e,t),O=e=>o.axiosInstance.post("/administrator/orders/",e),j=e=>o.axiosInstance.get(`/administrator/orders/${e}/feedbacks`)},aa19:function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-37d08c32"),e=e(),Object(a["popScopeId"])(),e),r={class:"row content-title align-items-center"},n=o(()=>Object(a["createElementVNode"])("div",{class:"col-12 col-md-4 mb-4 mb-md-0"},[Object(a["createElementVNode"])("h5",null,"Detail Order")],-1)),i={class:"col-12 col-md-8 text-md-right"},s={key:0},d={key:0,class:"d-inline-block"},l={key:0,class:"d-inline-block"},b=o(()=>Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-x-circle"})],-1)),m=Object(a["createTextVNode"])(" Cancel Order "),u=[b,m],O=o(()=>Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)),j=Object(a["createTextVNode"])(" Selesaikan Order "),p=[O,j],h=o(()=>Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)),g=Object(a["createTextVNode"])(" Selesaikan Job "),k=[h,g],f=o(()=>Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)),_=Object(a["createTextVNode"])(" Terima Job "),y=[f,_],v=o(()=>Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-check"})],-1)),N=Object(a["createTextVNode"])(" Terima Perangkat "),V=[v,N],E={class:"btn-addon"},C={key:0,class:"btn-addon-icon fe fe-edit"},S={key:1,class:"btn-addon-icon fe fe-x"},x=o(()=>Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1)),B=Object(a["createTextVNode"])(" Simpan "),w=[x,B],I={class:"row"},T={key:0,class:"col-md-12"},$={class:"card"},D={class:"card-header"},F={class:"row"},M={class:"col-6"},P={class:"mb-3"},J={class:"col-6 text-right"},q={class:"row mb-4"},H={class:"col-md-6 mb-4 mb-md-0"},R=o(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Informasi Customer :")],-1)),U={key:0},z={class:"mb-1"},K={class:"mb-1"},L={class:"mb-1"},A={key:1},G=o(()=>Object(a["createElementVNode"])("span",null,"-",-1)),Q=[G],W={class:"col-md-6 text-md-right"},X=o(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Tanggal dan Kategori :")],-1)),Y={class:"mb-1"},Z={class:"mb-1"},ee={key:0},te={key:1},ce={key:0},ae={class:"row"},oe={class:"col-md-6"},re=o(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Teknisi :")],-1)),ne={key:0},ie=Object(a["createTextVNode"])(" Lihat Offer "),se={class:"col-md-6 text-md-right"},de=o(()=>Object(a["createElementVNode"])("div",{class:"mb-1"},[Object(a["createElementVNode"])("h6",null,"Informasi Perangkat :")],-1)),le={class:"mb-1"},be=o(()=>Object(a["createElementVNode"])("span",null,"Tipe Perangkat",-1)),me=Object(a["createTextVNode"])(" : "),ue={key:1},Oe={class:"mb-1"},je=o(()=>Object(a["createElementVNode"])("span",null,"Kode Serial",-1)),pe=Object(a["createTextVNode"])(" : "),he={key:1},ge={class:"card-body"},ke={class:"row mb-5"},fe={class:"col-12"},_e={class:"row mt-4"},ye={class:"col-md-6 mb-4 mb-md-0"},ve=o(()=>Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("h6",null,"Masukkan catatan")],-1)),Ne={key:1},Ve={class:"col-md-6 text-md-right"},Ee=o(()=>Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("h6",null,"Grand Total")],-1)),Ce={key:1,class:"grand-price"},Se={key:0,class:"row"},xe={class:"col-md-12"},Be={class:"card"},we=o(()=>Object(a["createElementVNode"])("div",{class:"card-header"},[Object(a["createElementVNode"])("h6",{class:"m-0"},"Feedback Customer")],-1)),Ie={class:"card-body"},Te={class:"row mb-3"},$e={class:"col-12"},De={class:"row"},Fe={class:"col-12"};function Me(e,t,c,o,b,m){const O=Object(a["resolveComponent"])("a-tag"),j=Object(a["resolveComponent"])("router-link"),h=Object(a["resolveComponent"])("CheckCircleTwoTone"),g=Object(a["resolveComponent"])("a-tooltip"),f=Object(a["resolveComponent"])("a-select"),_=Object(a["resolveComponent"])("a-form-item"),v=Object(a["resolveComponent"])("a-input"),N=Object(a["resolveComponent"])("a-table"),x=Object(a["resolveComponent"])("a-textarea"),B=Object(a["resolveComponent"])("a-input-number"),G=Object(a["resolveComponent"])("a-form"),Me=Object(a["resolveComponent"])("a-radio"),Pe=Object(a["resolveComponent"])("a-divider"),Je=Object(a["resolveComponent"])("a-spin");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",r,[n,Object(a["createElementVNode"])("div",i,[b.loadingFetch||null===b.order?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[6!==b.order.status_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[b.editing||5===b.order.status_id?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("button",{class:"btn btn-with-addon btn-danger",onClick:t[0]||(t[0]=(...e)=>m.handleCancelOrder&&m.handleCancelOrder(...e))},u),4===b.order.status_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,class:"btn btn-with-addon btn-primary ml-3",onClick:t[1]||(t[1]=(...e)=>m.finishOrder&&m.finishOrder(...e))},p)):Object(a["createCommentVNode"])("",!0),3===b.order.status_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:1,class:"btn btn-with-addon btn-success ml-3",onClick:t[2]||(t[2]=(...e)=>m.finishJob&&m.finishJob(...e))},k)):Object(a["createCommentVNode"])("",!0),2===b.order.status_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:2,class:"btn btn-with-addon btn-success ml-3",onClick:t[3]||(t[3]=(...e)=>m.acceptJob&&m.acceptJob(...e))},y)):Object(a["createCommentVNode"])("",!0),1===b.order.status_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:3,class:"btn btn-with-addon btn-success ml-3",onClick:t[4]||(t[4]=(...e)=>m.acceptDevice&&m.acceptDevice(...e))},V)):Object(a["createCommentVNode"])("",!0)])),5!==b.order.status_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:1,class:"btn btn-with-addon btn-light ml-3",onClick:t[5]||(t[5]=(...e)=>m.startEdit&&m.startEdit(...e))},[Object(a["createElementVNode"])("span",E,[b.editing?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",C)),b.editing?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",S)):Object(a["createCommentVNode"])("",!0)]),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(b.editing?"Batal Edit":"Edit"),1)])):Object(a["createCommentVNode"])("",!0),b.editing?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:2,class:"btn btn-with-addon btn-primary ml-3",onClick:t[6]||(t[6]=(...e)=>m.handleFinish&&m.handleFinish(...e))},w)):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)]))])]),Object(a["createVNode"])(Je,{spinning:b.loadingFetch},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",I,[b.order?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",T,[Object(a["createVNode"])(G,{ref:"formRef",model:o.formState,rules:o.rules},{default:Object(a["withCtx"])(()=>{var e;return[Object(a["createElementVNode"])("div",$,[Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("div",F,[Object(a["createElementVNode"])("div",M,[Object(a["createElementVNode"])("h5",P,"ORDER#"+Object(a["toDisplayString"])(b.order.id),1)]),Object(a["createElementVNode"])("div",J,[1===b.order.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(b.order.status),1)]),_:1})):b.order.status_id>1&&b.order.status_id<5?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:1,color:"green",class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(b.order.status),1)]),_:1})):5===b.order.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:2,color:"blue",class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(b.order.status),1)]),_:1})):6===b.order.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:3,color:"red",class:"mx-0"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(b.order.status),1)]),_:1})):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",q,[Object(a["createElementVNode"])("div",H,[R,b.order.customer?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",U,[Object(a["createElementVNode"])("div",z,[Object(a["createVNode"])(j,{to:"/customers/view/"+b.order.customer.id,class:"text-primary"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(b.order.customer.email),1)]),_:1},8,["to"]),b.order.customer.verified_email?(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:0,title:"Sudah Verifikasi",class:"ml-1"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{twoToneColor:"#41b883"})]),_:1})):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",K,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(b.order.customer.full_name),1)]),Object(a["createElementVNode"])("div",L,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(b.order.customer.phone_number),1)])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",A,Q))]),Object(a["createElementVNode"])("div",W,[X,Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(b.order.created_at),1)]),Object(a["createElementVNode"])("div",Z,[b.editing?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ee,[Object(a["createElementVNode"])("a",{class:"d-block mb-0 mt-2 text-primary",onClick:t[7]||(t[7]=(...e)=>m.toggleInputCategoryMode&&m.toggleInputCategoryMode(...e))},Object(a["toDisplayString"])(o.useManualInputCategory?"Pilih sub kategori?":"Sub kategori tidak ada?"),1),o.useManualInputCategory?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:0,ref:"category_item_id",name:"category_item_id"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,{value:o.formState.category_item_id,"onUpdate:value":t[8]||(t[8]=e=>o.formState.category_item_id=e),options:m.getCategoryOptions,placeholder:"Pilih Sub kategori",class:"text-left w-100"},null,8,["value","options"])]),_:1},512)),o.useManualInputCategory?(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:1,ref:"category_item_string",name:"category_item_string"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{value:o.formState.category_item_string,"onUpdate:value":t[9]||(t[9]=e=>o.formState.category_item_string=e),class:"w-100",placeholder:"Masukkan nama Sub kategori"},null,8,["value"])]),_:1},512)):Object(a["createCommentVNode"])("",!0)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",te,[0===b.order.category_item_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ce,Object(a["toDisplayString"])(b.order.category_item_caption),1)):(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:1,to:"/categories/view/"+b.order.category_item_id,class:"text-primary"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(b.order.category_item_caption),1)]),_:1},8,["to"]))]))])])]),Object(a["createElementVNode"])("div",ae,[Object(a["createElementVNode"])("div",oe,[re,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])((null===(e=b.order.technician)||void 0===e?void 0:e.full_name)||"-"),1)]),b.order.offer?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ne,[Object(a["createVNode"])(j,{class:"text-primary",to:"/offers/view/"+b.order.offer.id},{default:Object(a["withCtx"])(()=>[ie]),_:1},8,["to"])])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",se,[de,Object(a["createElementVNode"])("div",le,[be,me,b.editing?(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:0,class:"d-inline-block",ref:"device_type",name:"device_type"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{value:o.formState.device_type,"onUpdate:value":t[10]||(t[10]=e=>o.formState.device_type=e),placeholder:"Masukkan tipe perangkat"},null,8,["value"])]),_:1},512)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ue,Object(a["toDisplayString"])(b.order.device_type),1))]),Object(a["createElementVNode"])("div",Oe,[je,pe,b.editing?(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:0,class:"d-inline-block",ref:"device_serial_number",name:"device_serial_number"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{value:o.formState.device_serial_number,"onUpdate:value":t[11]||(t[11]=e=>o.formState.device_serial_number=e),placeholder:"Masukkan nomor serial perangkat"},null,8,["value"])]),_:1},512)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",he,Object(a["toDisplayString"])(b.order.device_serial_number),1))])])])]),Object(a["createElementVNode"])("div",ge,[Object(a["createElementVNode"])("div",ke,[Object(a["createElementVNode"])("div",fe,[Object(a["createVNode"])(N,{columns:o.columns,"row-key":e=>e.id,"data-source":b.offers,pagination:!1},{price:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(b.order.formatted_price),1)]),_:1},8,["columns","row-key","data-source"])])]),Object(a["createElementVNode"])("div",_e,[Object(a["createElementVNode"])("div",ye,[ve,b.editing?(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:0,ref:"note",name:"note"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(x,{value:o.formState.note,"onUpdate:value":t[12]||(t[12]=e=>o.formState.note=e),placeholder:"Catatan",row:4},null,8,["value"])]),_:1},512)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ne,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(b.order.note),1)]))]),Object(a["createElementVNode"])("div",Ve,[Ee,Object(a["createElementVNode"])("div",null,[b.editing?(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:0,ref:"price",name:"price"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(B,{placeholder:"Harga",min:0,step:1e4,value:o.formState.price,"onUpdate:value":t[13]||(t[13]=e=>o.formState.price=e)},null,8,["value"])]),_:1},512)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("strong",Ce,Object(a["toDisplayString"])(b.order.formatted_price),1))])])])])])]}),_:1},8,["model","rules"])])):Object(a["createCommentVNode"])("",!0)]),b.order&&5===b.order.status_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Se,[Object(a["createElementVNode"])("div",xe,[Object(a["createElementVNode"])("div",Be,[we,Object(a["createElementVNode"])("div",Ie,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(b.orderFeedbacks,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e.id},[Object(a["createElementVNode"])("div",Te,[Object(a["createElementVNode"])("div",$e,Object(a["toDisplayString"])(e.feedback_question.question),1)]),Object(a["createElementVNode"])("div",De,[Object(a["createElementVNode"])("div",Fe,[Object(a["createVNode"])(Me,{checked:1===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_1),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(Me,{checked:2===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_2),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(Me,{checked:3===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_3),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(Me,{checked:4===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_4),1)]),_:2},1032,["checked"]),Object(a["createVNode"])(Me,{checked:5===e.choice_id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.feedback_question.choice_5),1)]),_:2},1032,["checked"])])]),Object(a["createVNode"])(Pe)]))),128))])])])])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["spinning"])])}var Pe={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:t}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"},Je=Pe,qe=c("b3f0");function He(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(c).filter((function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable})))),a.forEach((function(t){Re(e,t,c[t])}))}return e}function Re(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}var Ue=function(e,t){var c=He({},e,t.attrs);return Object(a["createVNode"])(qe["a"],He({},c,{icon:Je}),null)};Ue.displayName="CheckCircleTwoTone",Ue.inheritAttrs=!1;var ze=Ue,Ke=c("96d9"),Le=c("3f2c"),Ae=c("036a");const Ge=[{title:"Kategori",dataIndex:"category_item_caption",key:"category"},{title:"Tipe Perangkat",dataIndex:"device_type",key:"deviceType"},{title:"Harga",key:"price",slots:{customRender:"price"}}];var Qe={props:{id:String},components:{CheckCircleTwoTone:ze},setup(){const e=Object(a["ref"])(!1),t=Object(a["ref"])(),c=Object(a["reactive"])({category_item_id:void 0,category_item_string:void 0,device_type:void 0,device_serial_number:void 0,note:void 0,price:void 0}),o=async(t,a)=>e.value?c.category_item_string?Promise.resolve():Promise.reject("Kategori tidak boleh kosong"):a?Promise.resolve():Promise.reject("Kategori tidak boleh kosong"),r=async()=>c.price?Promise.resolve():Promise.reject("Harga tidak boleh kosong"),n={category_item_id:[{validator:o,trigger:"change"}],category_item_string:[{validator:o,trigger:"change"}],device_type:[{required:!0,message:"Tipe perangkat tidak boleh kosong",trigger:"change"}],device_serial_number:[{required:!0,message:"No seri perangkat tidak boleh kosong",trigger:"change"}],price:[{validator:r,trigger:"change"},{type:"number",message:"Harga harus berupa angka",trigger:"change"}]};return{columns:Ge,formRef:t,formState:c,rules:n,useManualInputCategory:e}},data(){return{order:null,orderFeedbacks:[],offers:[],loadingFetch:!0,loadingChangeStatus:!1,loadingSubmit:!1,editing:!1,categories:[]}},mounted(){this.fetchData(),this.fetchCategories()},computed:{getCategoryOptions(){return this.categories.map(e=>({label:e.description,options:e.subcategories.map(e=>({value:e.id,label:e.title}))}))}},methods:{async fetchData(){try{const e=await Object(Le["e"])(this.$props.id);200===e.status&&(this.order=e.data,e.data.offer&&(this.offers=[e.data.offer]),this.fillFormFields(),5===this.order.status_id&&this.fetchOrderFeedback())}catch(e){}this.loadingFetch=!1},async fetchOrderFeedback(){try{const e=await Object(Le["f"])(this.$props.id);200===e.status&&(this.orderFeedbacks=e.data)}catch(e){}},async submitData(){const e={category_item_id:"",category_item_string:"",device_type:this.formState.device_type,device_serial_number:this.formState.device_serial_number,note:this.formState.note,price:this.formState.price};this.useManualInputCategory?(e.category_item_id=0,e.category_item_string=this.formState.category_item_string):e.category_item_id=this.formState.category_item_id,this.$nprogress.start(),this.loadingSubmit=!0;try{const t=await Object(Le["k"])(this.$props.id,e);200===t.status&&(this.$notification.success({message:"Sukses",description:"Order berhasil diperbarui"}),this.editing=!1,this.order=t.data,this.fillFormFields())}catch(t){}this.$nprogress.done(),this.loadingSubmit=!1},handleFinish(){this.formRef.validate().then(()=>{this.submitData()}).catch(()=>{})},fillFormFields(){this.formState.note=this.order.note,0!==this.order.category_id?this.formState.category_item_id=this.order.category_item_id:(this.formState.category_item_string=this.order.category_item_string,this.useManualInputCategory=!0),this.formState.device_serial_number=this.order.device_serial_number,this.formState.device_type=this.order.device_type,this.formState.price=parseInt(this.order.price,10)},async fetchCategories(){try{const e=await Object(Ae["g"])();200===e.status&&(this.categories=e.data)}catch(e){}},async finishOrder(){this.loadingChangeStatus=!0,this.$nprogress.start();try{const e=await Object(Le["d"])(this.$props.id);200===e.status&&(this.$notification.success({message:"Sukses",description:"Order berhasil diselesaikan."}),this.order=e.data)}catch(e){}this.$nprogress.done(),this.loadingChangeStatus=!1},async finishJob(){this.loadingChangeStatus=!0,this.$nprogress.start();try{const e=await Object(Le["j"])(this.$props.id);200===e.status&&(this.$notification.success({message:"Sukses",description:"Status pengerjaan berhasil diubah."}),this.order=e.data,this.fillFormFields())}catch(e){}this.$nprogress.done(),this.loadingChangeStatus=!1},async acceptJob(){this.loadingChangeStatus=!0,this.$nprogress.start();try{const e=await Object(Le["i"])(this.$props.id);200===e.status&&(this.$notification.success({message:"Sukses",description:"Status order berhasil diubah."}),this.order=e.data,this.fillFormFields())}catch(e){}this.$nprogress.done(),this.loadingChangeStatus=!1},async acceptDevice(){this.loadingChangeStatus=!0,this.$nprogress.start();try{const e=await Object(Le["b"])(this.$props.id);200===e.status&&(this.$notification.success({message:"Sukses",description:"Order berhasil diterima."}),this.order=e.data,this.fillFormFields())}catch(e){}this.$nprogress.done(),this.loadingChangeStatus=!1},async cancelOrder(){this.loadingChangeStatus=!0,this.$nprogress.start();try{const e=await Object(Le["c"])(this.$props.id);200===e.status&&(this.$notification.success({message:"Sukses",description:"Order berhasil dibatalkan."}),this.order=e.data)}catch(e){}this.$nprogress.done(),this.loadingChangeStatus=!1},handleCancelOrder(){this.$modal.confirm({title:()=>"Batal Order",icon:()=>Object(a["createVNode"])(Ke["a"]),content:"Apakah Anda yakin untuk membatalkan orderan ini?",onOk:()=>{this.cancelOrder()},onCancel:()=>{}})},startEdit(){if(this.editing)return this.editing=!1,void this.fillFormFields();this.editing=!0},toggleInputCategoryMode(){this.useManualInputCategory=!this.useManualInputCategory}}},We=(c("3b9d"),c("6b0d")),Xe=c.n(We);const Ye=Xe()(Qe,[["render",Me],["__scopeId","data-v-37d08c32"]]);t["default"]=Ye}}]);