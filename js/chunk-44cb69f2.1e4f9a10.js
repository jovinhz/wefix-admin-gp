(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44cb69f2"],{"0d6b":function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a("997a");const o=new n["a"],r=()=>o.axiosInstance.get("/administrator/banners"),i=e=>o.axiosInstance.get("/administrator/banners/"+e),c=e=>o.axiosInstance.post("/administrator/banners",e,{headers:{"Content-Type":"multipart/form-data"}}),l=(e,t)=>o.axiosInstance.put("/administrator/banners/"+e,t),s=e=>o.axiosInstance.delete("/administrator/banners/"+e)},"0e9a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));const n=(e,t)=>{const a=new FileReader;a.addEventListener("load",()=>t(a.result)),a.readAsDataURL(e)},o=e=>{if(!e)return[];const t=/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/,a=e.match(t);if(!a)return["file","blob"];const n=a[0].match(/\.\w+$/)[0];return[a[0].match(/^\w+/)[0],n]}},"47ce":function(e,t,a){"use strict";var n=a("7a23"),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},r=o,i=a("b3f0");function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){l(e,t,a[t])}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=function(e,t){var a=c({},e,t.attrs);return Object(n["createVNode"])(i["a"],c({},a,{icon:r}),null)};s.displayName="PlusOutlined",s.inheritAttrs=!1;t["a"]=s},"92f3":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const o=Object(n["createElementVNode"])("div",{class:"content-title"},[Object(n["createElementVNode"])("h5",null,"Tambah Banner")],-1),r={class:"card"},i={class:"card-body"},c={class:"row"},l={class:"col-md-6 mb-2"},s={class:"row"},d={class:"col-md-6 mb-2"},u={class:"row"},b={class:"col-md-6 mb-2"},m={class:"row mb-4"},p={class:"col-md-6 mb-2"},f=Object(n["createTextVNode"])("Gambar"),h={key:1,class:"upload-image-thumbnail-wrapper"},j=["src"],O={key:2},v=Object(n["createElementVNode"])("div",{class:"ant-upload-text"},"Upload",-1),g={class:"row mb"},w={class:"col-md-6 mb-2"},N=["disabled"],V=Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),k=Object(n["createTextVNode"])(" Simpan "),y=[V,k];function E(e,t,a,V,k,E){const C=Object(n["resolveComponent"])("a-input"),S=Object(n["resolveComponent"])("a-form-item"),x=Object(n["resolveComponent"])("a-input-number"),U=Object(n["resolveComponent"])("a-textarea"),B=Object(n["resolveComponent"])("plus-outlined"),_=Object(n["resolveComponent"])("a-upload"),I=Object(n["resolveComponent"])("a-form");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[o,Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(I,{ref:"formRef",model:V.formState,rules:V.rules,layout:"vertical",onFinish:E.handleFinish},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(S,{ref:"title",label:"Judul Banner",name:"title"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(C,{value:V.formState.title,"onUpdate:value":t[0]||(t[0]=e=>V.formState.title=e),placeholder:"Masukkan judul banner"},null,8,["value"])]),_:1},512)])]),Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",d,[Object(n["createVNode"])(S,{ref:"position",label:"Posisi",name:"positon"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(x,{value:V.formState.position_id,"onUpdate:value":t[1]||(t[1]=e=>V.formState.position_id=e),placeholder:"Masukkan urutan posisi",min:1,style:{width:"100%"}},null,8,["value"])]),_:1},512)])]),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",b,[Object(n["createVNode"])(S,{ref:"description",label:"Deskripsi Banner",name:"description"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(U,{value:V.formState.description,"onUpdate:value":t[2]||(t[2]=e=>V.formState.description=e),placeholder:"Masukkan deskripsi banner","allow-clear":""},null,8,["value"])]),_:1},512)])]),Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("div",p,[Object(n["createVNode"])(S,null,{default:Object(n["withCtx"])(()=>[f]),_:1}),Object(n["createVNode"])(_,{name:"icon",listType:"picture-card",class:"avatar-uploader avatar-uploader-has-overlay",accept:".png,.jpg,.jpeg","show-upload-list":!1,beforeUpload:()=>!1,onChange:V.handleImageChange},{default:Object(n["withCtx"])(()=>[V.imageUrl?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"avatar-uploader-overlay",onClick:t[4]||(t[4]=Object(n["withModifiers"])(()=>{},["stop"]))},[Object(n["createElementVNode"])("i",{class:"fe fe-trash-2",onClick:t[3]||(t[3]=Object(n["withModifiers"])((...e)=>V.handleDeleteImage&&V.handleDeleteImage(...e),["stop"]))})])):Object(n["createCommentVNode"])("",!0),V.imageUrl?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",h,[Object(n["createElementVNode"])("img",{class:"upload-image-thumbnail",src:V.imageUrl,alt:""},null,8,j)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",O,[Object(n["createVNode"])(B),v]))]),_:1},8,["beforeUpload","onChange"])])]),Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:k.loadingSubmit},y,8,N)])])])])]),_:1},8,["model","rules","onFinish"])])])}var C=a("0e9a"),S=a("0d6b"),x=a("47ce"),U={components:{PlusOutlined:x["a"]},setup(){const e=Object(n["ref"])(),t=Object(n["reactive"])({title:"",description:"",position_id:null}),a=Object(n["ref"])([]),o=Object(n["ref"])(""),r=Object(n["ref"])(),i=e=>{l(e.file)&&Object(C["a"])(e.file,t=>{o.value=t,r.value=e.file})},c=()=>{a.value=[],o.value="",r.value=null},l=e=>{const t="image/jpeg"===e.type||"image/png"===e.type||"image/jpeg"===e.type;let a=!0;t||(this.$notification.warning({message:"Gagal Upload",description:"Format file tidak benar."}),a=!1);const n=e.size/1024/1024<2;return n||(this.$notification.warning({message:"Gagal Upload",description:"Ukuran file terlalu besar"}),a=!1),a},s={title:[{required:!0,message:"Judul banner tidak boleh kosong.",trigger:"change"}]};return{formRef:e,formState:t,rules:s,imageUrl:o,imageThumbnail:r,handleImageChange:i,handleDeleteImage:c}},data(){return{loadingSubmit:!1}},methods:{handleFinish(){this.formRef.validate().then(()=>this.submitData()).catch(()=>{})},async submitData(){this.$nprogress.start(),this.loadingSubmit=!0;const e=new FormData;e.append("title",this.formState.title),e.append("description",this.formState.description),this.formState.position_id&&e.append("position_id",this.formState.position_id),this.imageThumbnail&&e.append("image",this.imageThumbnail);try{const t=await Object(S["a"])(e);200===t.status&&(this.$notification.success({message:"Sukses",description:"Banner telah berhasil ditambahkan."}),this.$router.back())}catch(t){}this.$nprogress.done(),this.loadingSubmit=!1}}},B=a("d959"),_=a.n(B);const I=_()(U,[["render",E]]);t["default"]=I}}]);