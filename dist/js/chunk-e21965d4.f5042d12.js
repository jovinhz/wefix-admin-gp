(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e21965d4"],{b97d:function(t,e,n){"use strict";n.r(e);n("99af");var a=n("7a23"),c={class:"content-title d-flex justify-content-between align-items-center"},r=Object(a["createElementVNode"])("h5",null,"Daftar Staff",-1),o=Object(a["createElementVNode"])("button",{class:"btn btn-with-addon btn-primary"},[Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-plus-circle"})]),Object(a["createTextVNode"])(" Tambah ")],-1),i=Object(a["createTextVNode"])(" Aktif "),s=Object(a["createTextVNode"])("Nonaktif"),u=["onClick"],l=Object(a["createElementVNode"])("small",null,[Object(a["createElementVNode"])("i",{class:"fe fe-zap-off"})],-1),d=[l],f=["onClick"],b=Object(a["createElementVNode"])("small",null,[Object(a["createElementVNode"])("i",{class:"fe fe-zap"})],-1),m=[b];function j(t,e,n,l,b,j){var p=Object(a["resolveComponent"])("router-link"),O=Object(a["resolveComponent"])("a-tag"),k=Object(a["resolveComponent"])("a-tooltip"),h=Object(a["resolveComponent"])("a-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",c,[r,Object(a["createVNode"])(p,{to:"/staffs/new"},{default:Object(a["withCtx"])((function(){return[o]})),_:1})]),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(h,{columns:l.columns,"data-source":b.data,loading:b.loading,"row-key":function(t){return t.username},"custom-row":l.customRow},{roles:Object(a["withCtx"])((function(t){var e=t.text;return[Object(a["createElementVNode"])("span",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e,(function(t,e){return Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:"".concat(t,"-").concat(e),color:"blue"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.toUpperCase()),1)]})),_:2},1024)})),128))])]})),status:Object(a["withCtx"])((function(t){var e=t.text;return[Object(a["createElementVNode"])("span",null,[1===e?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,color:"success"},{default:Object(a["withCtx"])((function(){return[i]})),_:1})):Object(a["createCommentVNode"])("",!0),2===e?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:1,color:"error"},{default:Object(a["withCtx"])((function(){return[s]})),_:1})):Object(a["createCommentVNode"])("",!0)])]})),action:Object(a["withCtx"])((function(t){var e=t.record;return[Object(a["createElementVNode"])("span",null,[1===e.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(k,{key:0,placement:"topLeft",title:"Nonaktifkan"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(a["withModifiers"])((function(t){return j.openConfirmDelete(e.id)}),["stop"])},d,8,u)]})),_:2},1024)):Object(a["createCommentVNode"])("",!0),2===e.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(k,{key:1,placement:"topLeft",title:"Aktifkan"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(a["withModifiers"])((function(t){return j.activateStaff(e.id)}),["stop"])},m,8,f)]})),_:2},1024)):Object(a["createCommentVNode"])("",!0)])]})),_:1},8,["columns","data-source","loading","row-key","custom-row"])])])}var p=n("1da1"),O=(n("96cf"),n("6c02")),k=n("96d9"),h=n("f821"),w=[{title:"Nama",dataIndex:"full_name",key:"name"},{title:"Username",dataIndex:"username",key:"username"},{title:"Role",dataIndex:"roles",key:"roles",slots:{customRender:"roles"}},{title:"Status",dataIndex:"status_id",key:"status",slots:{customRender:"status"}},{title:"Aksi",key:"action",slots:{customRender:"action"}}],x={setup:function(){var t=Object(O["d"])(),e=function(e){return{style:{cursor:"pointer"},onClick:function(){t.push({path:"/staffs/view/"+e.id})}}};return{columns:w,customRow:e}},data:function(){return{data:[],loading:!1}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,Object(h["e"])();case 4:n=e.sent,200===n.status&&(t.data=n.data),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:t.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},openConfirmDelete:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$modal.confirm({title:function(){return"Nonaktifkan"},icon:function(){return Object(a["createVNode"])(k["a"])},content:"Apakah Anda yakin untuk menonaktifkan staff ini?",onOk:function(){e.deleteRecord(t)},onCancel:function(){}});case 1:case"end":return n.stop()}}),n)})))()},deleteRecord:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$nprogress.start(),n.prev=1,n.next=4,Object(h["b"])(t);case 4:a=n.sent,200===a.status&&(e.$notification.success({message:"Sukses",description:"Staff berhasil dinonaktifkan."}),e.fetchData()),n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](1);case 10:e.$nprogress.done();case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},activateStaff:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(h["f"])(t,{status_id:1});case 3:a=n.sent,200===a.status&&(e.$notification.success({message:"Sukses",description:"Staff berhasil diaktifkan."}),e.fetchData()),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},v=n("6b0d"),N=n.n(v);const g=N()(x,[["render",j]]);e["default"]=g},f821:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return l}));var a=n("997a"),c=new a["a"],r=function(){return c.axiosInstance.get("/administrator/administrators")},o=function(t){return c.axiosInstance.get("/administrator/administrators/".concat(t))},i=function(t){return c.axiosInstance.post("/administrator/administrators",t)},s=function(){return c.axiosInstance.get("/administrator/administrators/roles")},u=function(t,e){return c.axiosInstance.put("/administrator/administrators/".concat(t),e)},l=function(t){return c.axiosInstance.put("/administrator/administrators/".concat(t),{status_id:2})}}}]);