(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-508d52be"],{b8cb:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return d}));var n=a("997a"),r=new n["a"],s=function(e){return r.axiosInstance.get("/administrator/customers",{params:e})},o=function(e){return r.axiosInstance.get("/administrator/customers/".concat(e))},c=function(e,t){return r.axiosInstance.put("/administrator/customers/".concat(e),t)},d=function(e){return r.axiosInstance.get("/administrator/customers/search",{params:{keyword:e}})}},fe97:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r={class:"content-title d-flex justify-content-between align-items-center"},s=Object(n["createElementVNode"])("h5",null,"Detail Customer",-1),o=["disabled"],c=Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-zap-off"})],-1),d=Object(n["createTextVNode"])(" Suspend "),i=[c,d],l=["disabled"],u=Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-zap"})],-1),m=Object(n["createTextVNode"])(" Aktifkan "),b=[u,m],p={class:"row"},f={class:"col-md-6"},O={class:"card"},j={class:"card-header card-header-flex"},v={class:"d-flex align-items-center justify-content-between flex-fill"},w=Object(n["createElementVNode"])("h6",{class:"mb-0"},"Data Customer",-1),h=Object(n["createTextVNode"])(" Ganti password "),V={class:"card-body"},k={class:"row"},N={class:"col-md-12"},g={class:"row"},E={class:"col-12 mb-2"},F={class:"row"},x={class:"col-12 mb-2"},_={class:"row"},C={class:"col-12 mb-2"},S={class:"row"},y={class:"col-12 mb-2"},R=["disabled"],D=Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),L=Object(n["createTextVNode"])(" Simpan "),P=[D,L],$={class:"col-md-6"},B={class:"card"},U=Object(n["createElementVNode"])("div",{class:"card-header card-header-flex"},[Object(n["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center mr-auto"},[Object(n["createElementVNode"])("h6",{class:"mb-0"},"Informasi Tambahan")])],-1),A={class:"card-body"},T={key:0,class:"row mb-4"},M={class:"col-12"},I={key:1,class:"row mb-3"},q=Object(n["createElementVNode"])("div",{class:"col-4"},[Object(n["createElementVNode"])("span",null,"Alasan Suspend")],-1),G={class:"col-8"},K={class:"row mb-3"},z=Object(n["createElementVNode"])("div",{class:"col-4"},[Object(n["createElementVNode"])("span",null,"Verifikasi Email")],-1),J={class:"col-8"},H=Object(n["createTextVNode"])(" Belum Verifikasi "),Q=Object(n["createTextVNode"])(" Sudah Verifikasi "),W={class:"row"},X=Object(n["createElementVNode"])("div",{class:"col-4"},[Object(n["createElementVNode"])("span",null,"Terdaftar pada tanggal")],-1),Y={class:"col-8"},Z={class:"text-gray-5"},ee={class:"row"},te={class:"col-12"},ae={class:"row"},ne={class:"col-12"},re={class:"row"},se={class:"col-12"};function oe(e,t,a,c,d,u){var m=Object(n["resolveComponent"])("a-button"),D=Object(n["resolveComponent"])("a-input"),L=Object(n["resolveComponent"])("a-form-item"),oe=Object(n["resolveComponent"])("a-form"),ce=Object(n["resolveComponent"])("ExclamationCircleOutlined"),de=Object(n["resolveComponent"])("a-alert"),ie=Object(n["resolveComponent"])("a-tag"),le=Object(n["resolveComponent"])("a-input-password"),ue=Object(n["resolveComponent"])("a-modal"),me=Object(n["resolveComponent"])("a-textarea");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",r,[s,!1===d.additionalData.suspended?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"btn btn-with-addon btn-danger",onClick:t[0]||(t[0]=function(){return u.openSuspendForm&&u.openSuspendForm.apply(u,arguments)}),disabled:d.suspendLoading},i,8,o)):Object(n["createCommentVNode"])("",!0),!0===d.additionalData.suspended?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"btn btn-with-addon btn-primary",onClick:t[1]||(t[1]=function(){return u.handleUnsuspend&&u.handleUnsuspend.apply(u,arguments)}),disabled:d.suspendLoading},b,8,l)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("div",v,[w,Object(n["createVNode"])(m,{type:"link",onClick:u.openPasswordForm},{default:Object(n["withCtx"])((function(){return[h]})),_:1},8,["onClick"])])]),Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("div",N,[Object(n["createVNode"])(oe,{ref:"detailFormRef",model:c.detailFormState,rules:c.detailRules,layout:"vertical",onFinish:u.submitUpdateDetail},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",E,[Object(n["createVNode"])(L,{ref:"full_name",label:"Nama",name:"full_name"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(D,{value:c.detailFormState.full_name,"onUpdate:value":t[2]||(t[2]=function(e){return c.detailFormState.full_name=e}),placeholder:"Masukkan nama lengkap"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",F,[Object(n["createElementVNode"])("div",x,[Object(n["createVNode"])(L,{ref:"phone_number",label:"No HP",name:"phone_number"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(D,{value:c.detailFormState.phone_number,"onUpdate:value":t[3]||(t[3]=function(e){return c.detailFormState.phone_number=e}),placeholder:"Masukkan no hp"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("div",C,[Object(n["createVNode"])(L,{ref:"email",label:"Email",name:"email"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(D,{value:c.detailFormState.email,"onUpdate:value":t[4]||(t[4]=function(e){return c.detailFormState.email=e}),placeholder:"Masukkan email"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:d.detailLoading},P,8,R)])])]})),_:1},8,["model","rules","onFinish"])])])])])]),Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("div",B,[U,Object(n["createElementVNode"])("div",A,[!0===d.additionalData.suspended?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",T,[Object(n["createElementVNode"])("div",M,[Object(n["createVNode"])(de,{message:"Suspended",description:"Customer ini sedang di-suspend !","show-icon":"",type:"error"},{icon:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(ce)]})),_:1})])])):Object(n["createCommentVNode"])("",!0),!0===d.additionalData.suspended?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",I,[q,Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(d.additionalData.suspendedReason),1)])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",K,[z,Object(n["createElementVNode"])("div",J,[!1===d.additionalData.verifiedEmail?(Object(n["openBlock"])(),Object(n["createBlock"])(ie,{key:0,color:"error"},{default:Object(n["withCtx"])((function(){return[H]})),_:1})):Object(n["createCommentVNode"])("",!0),!0===d.additionalData.verifiedEmail?(Object(n["openBlock"])(),Object(n["createBlock"])(ie,{key:1,color:"success"},{default:Object(n["withCtx"])((function(){return[Q]})),_:1})):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",W,[X,Object(n["createElementVNode"])("div",Y,[Object(n["createElementVNode"])("span",Z,Object(n["toDisplayString"])(d.additionalData.createdAt),1)])])])])])]),Object(n["createVNode"])(ue,{visible:c.passwordFormVisibility,"onUpdate:visible":t[7]||(t[7]=function(e){return c.passwordFormVisibility=e}),title:"Ganti Password","mask-closable":!1,onOk:u.handlePasswordFormFinish,"confirm-loading":d.passwordLoading},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(oe,{ref:"passwordFormRef",model:c.passwordFormState,rules:c.passwordRules,layout:"vertical"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",ee,[Object(n["createElementVNode"])("div",te,[Object(n["createVNode"])(L,{ref:"password",label:"Password",name:"password"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(le,{value:c.passwordFormState.password,"onUpdate:value":t[5]||(t[5]=function(e){return c.passwordFormState.password=e}),placeholder:"Masukkan password"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",ae,[Object(n["createElementVNode"])("div",ne,[Object(n["createVNode"])(L,{ref:"password_confirmation",label:"Konfirmasi Password",name:"password_confirmation"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(le,{value:c.passwordFormState.password_confirmation,"onUpdate:value":t[6]||(t[6]=function(e){return c.passwordFormState.password_confirmation=e}),placeholder:"Masukkan password sekali lagi"},null,8,["value"])]})),_:1},512)])])]})),_:1},8,["model","rules"])]})),_:1},8,["visible","onOk","confirm-loading"]),Object(n["createVNode"])(ue,{visible:c.suspendFormVisibility,"onUpdate:visible":t[9]||(t[9]=function(e){return c.suspendFormVisibility=e}),title:"Suspend Customer","mask-closable":!1,onOk:u.handleSuspendFormFinish,"confirm-loading":d.suspendLoading},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(oe,{ref:"suspendFormRef",model:c.suspendFormState,rules:c.suspendRules,layout:"vertical"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",re,[Object(n["createElementVNode"])("div",se,[Object(n["createVNode"])(L,{ref:"suspended_reason",label:"Alasan melakukan suspend",name:"suspended_reason"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(me,{value:c.suspendFormState.suspended_reason,"onUpdate:value":t[8]||(t[8]=function(e){return c.suspendFormState.suspended_reason=e}),placeholder:"Masukkan alasan suspend","allow-clear":""},null,8,["value"])]})),_:1},512)])])]})),_:1},8,["model","rules"])]})),_:1},8,["visible","onOk","confirm-loading"])])}var ce=a("1da1"),de=(a("96cf"),a("d3b7"),a("b8cb")),ie=a("96d9"),le={props:{id:String},components:{ExclamationCircleOutlined:ie["a"]},setup:function(){var e=Object(n["ref"])(),t=Object(n["reactive"])({full_name:"",email:"",phone_number:""}),a=Object(n["ref"])(),r=Object(n["reactive"])({password:"",password_confirmation:""}),s=Object(n["ref"])(),o=Object(n["reactive"])({suspended:null,suspended_reason:""}),c=Object(n["ref"])(!1),d=Object(n["ref"])(!1),i=function(){var e=Object(ce["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}return e.abrupt("return",Promise.reject("Konfirmasi password tidak boleh kosong."));case 4:if(a===r.password){e.next=8;break}return e.abrupt("return",Promise.reject("Password dan Konfirmasi password harus sama."));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l={email:[{type:"email",message:"Gunakan email yang valid."}]},u={password:[{required:!0,message:"Password tidak boleh kosong.",trigger:"change"}],password_confirmation:[{required:!0,validator:i,trigger:"change"}]},m={suspended_reason:[{required:!0,message:"Alasan suspend tidak boleh kosong.",trigger:"change"}]};return{detailFormRef:e,detailFormState:t,detailRules:l,passwordFormRef:a,passwordFormState:r,passwordRules:u,suspendFormRef:s,suspendFormState:o,suspendRules:m,passwordFormVisibility:c,suspendFormVisibility:d}},data:function(){return{detailLoading:!1,passwordLoading:!1,suspendLoading:!1,additionalData:{createdAt:"",suspended:null,suspendedReason:"",verifiedEmail:null}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(de["a"])(e.$props.id);case 3:a=t.sent,200===a.status&&(e.detailFormState.email=a.data.email,e.detailFormState.full_name=a.data.full_name,e.detailFormState.phone_number=a.data.phone_number,e.additionalData.createdAt=a.data.created_at,e.additionalData.suspended=a.data.suspended,e.additionalData.suspendedReason=a.data.suspended_reason,e.additionalData.verifiedEmail=a.data.verified_email),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},openSuspendForm:function(){this.suspendFormVisibility=!0},openPasswordForm:function(){this.passwordFormVisibility=!0},changePassword:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.passwordLoading=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(de["d"])(e.$props.id,Object(n["toRaw"])(e.passwordFormState));case 5:a=t.sent,200===a.status&&(e.$notification.success({message:"Sukses",description:"Password berhasil diganti."}),e.passwordFormVisibility=!1,e.passwordFormRef.resetFields()),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.passwordLoading=!1,e.$nprogress.done();case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},handlePasswordFormFinish:function(){var e=this;this.passwordFormRef.validate().then((function(){return e.changePassword()})).catch((function(){}))},handleSuspendFormFinish:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.suspendLoading=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(de["d"])(e.$props.id,{suspended:!0,suspended_reason:e.suspendFormState.suspended_reason});case 5:a=t.sent,200===a.status&&(e.$notification.success({message:"Sukses",description:"Customer ini telah di suspend."}),e.fetchData(),e.suspendFormVisibility=!1,e.suspendFormRef.resetFields()),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.suspendLoading=!1,e.$nprogress.done();case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},submitUpdateDetail:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.detailLoading=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(de["d"])(e.$props.id,Object(n["toRaw"])(e.detailFormState));case 5:a=t.sent,200===a.status&&e.$notification.success({message:"Sukses",description:"Customer berhasil diperbarui."}),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.detailLoading=!1,e.$nprogress.done();case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},handleUnsuspend:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$modal.confirm({title:function(){return"Aktifkan Customer"},icon:function(){return Object(n["createVNode"])(ie["a"])},content:"Apakah Anda yakin untuk mengaktifkan kembali customer ini?",onOk:function(){e.submitUnsuspend()},onCancel:function(){}});case 1:case"end":return t.stop()}}),t)})))()},submitUnsuspend:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.suspendLoading=!0,t.prev=1,t.next=4,Object(de["d"])(e.$props.id,{suspended:!1,suspended_reason:null});case 4:a=t.sent,200===a.status&&(e.$notification.success({message:"Sukses",description:"Customer berhasil diaktifkan kembali."}),e.fetchData()),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:e.suspendLoading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},ue=a("6b0d"),me=a.n(ue);const be=me()(le,[["render",oe]]);t["default"]=be}}]);