(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f18affa"],{"0d6b":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s}));var c=a("997a");const n=new c["a"],o=()=>n.axiosInstance.get("/administrator/banners"),i=e=>n.axiosInstance.get("/administrator/banners/"+e),l=e=>n.axiosInstance.post("/administrator/banners",e,{headers:{"Content-Type":"multipart/form-data"}}),r=(e,t)=>n.axiosInstance.put("/administrator/banners/"+e,t),s=e=>n.axiosInstance.delete("/administrator/banners/"+e)},"0e9a":function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return n}));const c=(e,t)=>{const a=new FileReader;a.addEventListener("load",()=>t(a.result)),a.readAsDataURL(e)},n=e=>{if(!e)return[];const t=/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/,a=e.match(t),c=a[0].match(/\.\w+$/)[0];return[a[0].match(/^\w+/)[0],c]}},"47ce":function(e,t,a){"use strict";var c=a("7a23"),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},o=n,i=a("b3f0");function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},c=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),c.forEach((function(t){r(e,t,a[t])}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=function(e,t){var a=l({},e,t.attrs);return Object(c["createVNode"])(i["a"],l({},a,{icon:o}),null)};s.displayName="PlusOutlined",s.inheritAttrs=!1;t["a"]=s},5205:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const n=Object(c["createElementVNode"])("div",{class:"content-title"},[Object(c["createElementVNode"])("div",{class:"d-flex"},[Object(c["createElementVNode"])("h5",null,"Detail Banner")])],-1),o={class:"row"},i={class:"col-md-6"},l={class:"card"},r=Object(c["createElementVNode"])("div",{class:"card-header card-header-flex"},[Object(c["createElementVNode"])("div",{class:"d-flex align-items-center"},[Object(c["createElementVNode"])("h6",{class:"mb-0"},"Data Banner")])],-1),s={class:"card-body"},d={class:"row"},b={class:"col-md-12"},m={class:"row"},u={class:"col-12 mb-2"},p={class:"row"},j={class:"col-12 mb-2"},O={class:"row"},f={class:"col-12 mb-2"},h={class:"row"},v={class:"col-12 mb-2"},N=Object(c["createTextVNode"])("Gambar"),V={key:1,class:"upload-image-thumbnail-wrapper"},g=["src"],E={key:2},w=Object(c["createElementVNode"])("div",{class:"ant-upload-text"},"Upload",-1),k={class:"row"},y={class:"col-12 mb-2"},x=Object(c["createTextVNode"])("Aktif"),C=Object(c["createTextVNode"])("Non Aktif"),S={class:"row"},_={class:"col-12 mb-2"},D=["disabled"],B=Object(c["createElementVNode"])("span",{class:"btn-addon"},[Object(c["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),U=Object(c["createTextVNode"])(" Simpan "),I=[B,U],T={class:"col-md-6"},$={class:"card"},q=Object(c["createElementVNode"])("div",{class:"card-header card-header-flex"},[Object(c["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center mr-auto"},[Object(c["createElementVNode"])("h6",{class:"mb-0"},"Informasi Tambahan")])],-1),A={class:"card-body"},F={class:"row mb-3"},M=Object(c["createElementVNode"])("div",{class:"col-4"},[Object(c["createElementVNode"])("span",null,"Status")],-1),P={class:"col-8"},R=Object(c["createTextVNode"])(" Non Aktif "),J=Object(c["createTextVNode"])(" Aktif "),z={class:"row"},G=Object(c["createElementVNode"])("div",{class:"col-4"},[Object(c["createElementVNode"])("span",null,"Dibuat pada tanggal")],-1),L={class:"col-8"},H={class:"text-gray-5"};function K(e,t,a,B,U,K){const Q=Object(c["resolveComponent"])("a-input"),W=Object(c["resolveComponent"])("a-form-item"),X=Object(c["resolveComponent"])("a-input-number"),Y=Object(c["resolveComponent"])("plus-outlined"),Z=Object(c["resolveComponent"])("a-upload"),ee=Object(c["resolveComponent"])("a-select-option"),te=Object(c["resolveComponent"])("a-select"),ae=Object(c["resolveComponent"])("a-form"),ce=Object(c["resolveComponent"])("a-tag");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[n,Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",l,[r,Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",b,[Object(c["createVNode"])(ae,{ref:"formRef",model:B.formState,rules:B.rules,layout:"vertical",onFinish:K.handleFinish},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(W,{ref:"title",label:"Judul Banner",name:"title"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Q,{value:B.formState.title,"onUpdate:value":t[0]||(t[0]=e=>B.formState.title=e),placeholder:"Masukkan judul banner"},null,8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",j,[Object(c["createVNode"])(W,{ref:"description",label:"Deskripsi Banner",name:"title"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Q,{value:B.formState.description,"onUpdate:value":t[1]||(t[1]=e=>B.formState.description=e),placeholder:"Masukkan deskripsi banner"},null,8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",f,[Object(c["createVNode"])(W,{ref:"position",label:"Posisi",name:"positon"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(X,{value:B.formState.position_id,"onUpdate:value":t[2]||(t[2]=e=>B.formState.position_id=e),placeholder:"Masukkan urutan posisi",min:1,style:{width:"100%"}},null,8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",v,[Object(c["createVNode"])(W,null,{default:Object(c["withCtx"])(()=>[N]),_:1}),Object(c["createVNode"])(Z,{name:"icon",listType:"picture-card",class:"avatar-uploader avatar-uploader-has-overlay",accept:".png,.jpg,.jpeg","show-upload-list":!1,beforeUpload:()=>!1,onChange:B.handleImageChange},{default:Object(c["withCtx"])(()=>[B.imageUrl?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,class:"avatar-uploader-overlay",onClick:t[4]||(t[4]=Object(c["withModifiers"])(()=>{},["stop"]))},[Object(c["createElementVNode"])("i",{class:"fe fe-trash-2",onClick:t[3]||(t[3]=Object(c["withModifiers"])((...e)=>B.handleDeleteImage&&B.handleDeleteImage(...e),["stop"]))})])):Object(c["createCommentVNode"])("",!0),B.imageUrl?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",V,[Object(c["createElementVNode"])("img",{class:"upload-image-thumbnail",src:B.imageUrl,alt:""},null,8,g)])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",E,[Object(c["createVNode"])(Y),w]))]),_:1},8,["beforeUpload","onChange"])])]),Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("div",y,[Object(c["createVNode"])(W,{ref:"status_id",label:"Status",name:"status_id"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(te,{value:B.formState.status_id,"onUpdate:value":t[5]||(t[5]=e=>B.formState.status_id=e)},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ee,{value:1},{default:Object(c["withCtx"])(()=>[x]),_:1}),Object(c["createVNode"])(ee,{value:2},{default:Object(c["withCtx"])(()=>[C]),_:1})]),_:1},8,["value"])]),_:1},512)])]),Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:U.loadingSubmit},I,8,D)])])]),_:1},8,["model","rules","onFinish"])])])])])]),Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("div",$,[q,Object(c["createElementVNode"])("div",A,[Object(c["createElementVNode"])("div",F,[M,Object(c["createElementVNode"])("div",P,[2===U.additionalData.statusId?(Object(c["openBlock"])(),Object(c["createBlock"])(ce,{key:0,color:"error"},{default:Object(c["withCtx"])(()=>[R]),_:1})):Object(c["createCommentVNode"])("",!0),1===U.additionalData.statusId?(Object(c["openBlock"])(),Object(c["createBlock"])(ce,{key:1,color:"success"},{default:Object(c["withCtx"])(()=>[J]),_:1})):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",z,[G,Object(c["createElementVNode"])("div",L,[Object(c["createElementVNode"])("span",H,Object(c["toDisplayString"])(U.additionalData.createdAt),1)])])])])])])])}var Q=a("0d6b"),W=a("0e9a"),X=a("47ce"),Y={props:{id:String},components:{PlusOutlined:X["a"]},setup(){const e=Object(c["ref"])(),t=Object(c["reactive"])({title:"",description:"",status_id:null,position_id:null}),a=Object(c["ref"])([]),n=Object(c["ref"])(""),o=Object(c["ref"])(),i=e=>{r(e.file)&&Object(W["a"])(e.file,t=>{n.value=t,o.value=e.file})},l=()=>{a.value=[],n.value="",o.value=null},r=e=>{const t="image/jpeg"===e.type||"image/png"===e.type||"image/jpeg"===e.type;let a=!0;t||(this.$notification.warning({message:"Gagal Upload",description:"Format file tidak benar."}),a=!1);const c=e.size/1024/1024<2;return c||(this.$notification.warning({message:"Gagal Upload",description:"Ukuran file terlalu besar"}),a=!1),a},s={title:[{required:!0,message:"Judul banner tidak boleh kosong.",trigger:"change"}]};return{formRef:e,formState:t,rules:s,imageUrl:n,imageThumbnail:o,handleImageChange:i,handleDeleteImage:l}},data(){return{loadingSubmit:!1,additionalData:{statusId:null,createdAt:""}}},mounted(){this.fetchData()},methods:{async fetchData(){try{const e=await Object(Q["c"])(this.$props.id);200===e.status&&(this.formState.title=e.data.title,this.formState.description=e.data.description,this.formState.status_id=e.data.status_id,this.formState.position_id=e.data.position_id,this.additionalData.statusId=e.data.status_id,this.additionalData.createdAt=e.data.created_at,this.imageUrl=e.data.image)}catch(e){}},handleFinish(){this.formRef.validate().then(()=>this.submitData()).catch(()=>{})},async submitData(){this.$nprogress.start(),this.loadingSubmit=!0;const e=new FormData;e.append("title",this.formState.title),e.append("description",this.formState.description),e.append("status_id",this.formState.status_id),this.formState.position_id&&e.append("position_id",this.formState.position_id),void 0!==this.imageThumbnail&&e.append("image",this.imageThumbnail);try{const t=await Object(Q["e"])(this.$props.id,e);200===t.status&&(this.$notification.success({message:"Sukses",description:"Banner telah berhasil diperbarui."}),this.fetchData())}catch(t){}this.$nprogress.done(),this.loadingSubmit=!1}}},Z=a("6b0d"),ee=a.n(Z);const te=ee()(Y,[["render",K]]);t["default"]=te}}]);