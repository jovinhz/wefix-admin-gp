(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6daab55b"],{"0d6b":function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return l}));var a=n("997a");const c=new a["a"],o=()=>c.axiosInstance.get("/administrator/banners"),s=t=>c.axiosInstance.get("/administrator/banners/"+t),i=t=>c.axiosInstance.post("/administrator/banners",t,{headers:{"Content-Type":"multipart/form-data"}}),r=(t,e)=>c.axiosInstance.put("/administrator/banners/"+t,e),l=t=>c.axiosInstance.delete("/administrator/banners/"+t)},"432a":function(t,e,n){"use strict";n.r(e);var a=n("7a23");const c={class:"content-title d-flex justify-content-between align-items-center"},o=Object(a["createElementVNode"])("h5",null,"Daftar Banner",-1),s=Object(a["createElementVNode"])("button",{class:"btn btn-with-addon btn-primary"},[Object(a["createElementVNode"])("span",{class:"btn-addon"},[Object(a["createElementVNode"])("i",{class:"btn-addon-icon fe fe-plus-circle"})]),Object(a["createTextVNode"])(" Tambah ")],-1),i=["src"],r=Object(a["createTextVNode"])("Aktif"),l=Object(a["createTextVNode"])("Nonaktif"),d={class:"mr-3"},b=["onClick"],u=Object(a["createElementVNode"])("small",null,[Object(a["createElementVNode"])("i",{class:"fe fe-zap-off"})],-1),m=[u],O=["onClick"],h=Object(a["createElementVNode"])("small",null,[Object(a["createElementVNode"])("i",{class:"fe fe-zap"})],-1),j=[h],p=["onClick"],k=Object(a["createElementVNode"])("small",null,[Object(a["createElementVNode"])("i",{class:"fe fe-trash"})],-1),f=[k];function N(t,e,n,u,h,k){const N=Object(a["resolveComponent"])("router-link"),w=Object(a["resolveComponent"])("a-tag"),C=Object(a["resolveComponent"])("a-tooltip"),V=Object(a["resolveComponent"])("a-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",c,[o,Object(a["createVNode"])(N,{to:"/banners/new"},{default:Object(a["withCtx"])(()=>[s]),_:1})]),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(V,{columns:u.columns,"data-source":h.data,loading:h.loadingData,"row-key":t=>t.id,"custom-row":u.customRow},{image:Object(a["withCtx"])(({text:t})=>[t?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,src:t,alt:"",width:"50",height:"50"},null,8,i)):Object(a["createCommentVNode"])("",!0)]),status:Object(a["withCtx"])(({text:t})=>[Object(a["createElementVNode"])("span",null,[1===t?(Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:0,color:"success"},{default:Object(a["withCtx"])(()=>[r]),_:1})):Object(a["createCommentVNode"])("",!0),2===t?(Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:1,color:"error"},{default:Object(a["withCtx"])(()=>[l]),_:1})):Object(a["createCommentVNode"])("",!0)])]),action:Object(a["withCtx"])(({record:t})=>[Object(a["createElementVNode"])("span",null,[Object(a["createElementVNode"])("span",d,[1===t.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(C,{key:0,placement:"topLeft",title:"Non Aktifkan"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(a["withModifiers"])(e=>k.openConfirmDeactivateBanner(t.id),["stop"])},m,8,b)]),_:2},1024)):Object(a["createCommentVNode"])("",!0),2===t.status_id?(Object(a["openBlock"])(),Object(a["createBlock"])(C,{key:1,placement:"topLeft",title:"Aktifkan"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-light",onClick:Object(a["withModifiers"])(e=>k.activateBanner(t.id),["stop"])},j,8,O)]),_:2},1024)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(C,{placement:"topLeft",title:"Hapus"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-danger",onClick:Object(a["withModifiers"])(e=>k.openConfirmDeleteBanner(t.id),["stop"])},f,8,p)]),_:2},1024)])])]),_:1},8,["columns","data-source","loading","row-key","custom-row"])])])}var w=n("0d6b"),C=n("96d9"),V=n("6605");const g=[{title:"Judul",dataIndex:"title",key:"title"},{title:"Deskripsi",dataIndex:"description",key:"description"},{title:"Gambar",dataIndex:"image",key:"image",slots:{customRender:"image"}},{title:"Posisi",dataIndex:"position_id",key:"position"},{title:"Status",dataIndex:"status_id",key:"status",slots:{customRender:"status"}},{title:"Aksi",key:"action",slots:{customRender:"action"}}];var y={setup(){const t=Object(V["d"])(),e=e=>({style:{cursor:"pointer"},onClick:()=>{t.push({path:"/banners/view/"+e.id})}});return{columns:g,customRow:e}},data(){return{data:[],loadingData:!1}},mounted(){this.fetchData()},methods:{async fetchData(){this.loadingData=!0;try{const t=await Object(w["d"])();200===t.status&&(this.data=t.data)}catch(t){}this.loadingData=!1},openConfirmDeactivateBanner(t){this.$modal.confirm({title:()=>"Nonaktifkan",icon:()=>Object(a["createVNode"])(C["a"]),content:"Apakah Anda yakin untuk nonaktifkan banner ini?",onOk:()=>{this.deactivateBanner(t)},onCancel:()=>{}})},async activateBanner(t){this.$nprogress.start();try{const e=await Object(w["e"])(t,{status_id:1});200===e.status&&(this.$notification.success({message:"Sukses",description:"Banner telah berhasil diaktifkan."}),this.fetchData())}catch(e){}this.$nprogress.done()},async deactivateBanner(t){this.$nprogress.start();try{const e=await Object(w["e"])(t,{status_id:2});200===e.status&&(this.$notification.success({message:"Sukses",description:"Banner telah berhasil dinonaktifkan."}),this.fetchData())}catch(e){}this.$nprogress.done()},openConfirmDeleteBanner(t){this.$modal.confirm({title:()=>"Hapus Data",icon:()=>Object(a["createVNode"])(C["a"]),content:"Apakah Anda yakin untuk menghapus banner ini?",onOk:()=>{this.doDeleteBanner(t)},onCancel:()=>{}})},async doDeleteBanner(t){this.$nprogress.start();try{const e=await Object(w["b"])(t);200===e.status&&(this.$notification.success({message:"Sukses",description:"Banner telah berhasil dihapus."}),this.fetchData())}catch(e){}this.$nprogress.done()}}},B=n("6b0d"),x=n.n(B);const E=x()(y,[["render",N]]);e["default"]=E}}]);