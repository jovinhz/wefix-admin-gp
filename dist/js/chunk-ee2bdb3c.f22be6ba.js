(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee2bdb3c"],{"036a":function(e,t,r){"use strict";r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"i",(function(){return d})),r.d(t,"h",(function(){return l})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"j",(function(){return b})),r.d(t,"g",(function(){return g}));var n=r("1da1"),a=(r("96cf"),r("99af"),r("997a")),o=new a["a"],c=function(){return o.axiosInstance.get("/administrator/categories/")},i=function(e){return o.axiosInstance.get("/administrator/categories/".concat(e))},u=function(e){return o.axiosInstance.post("/administrator/categories/",e)},s=function(e){return o.axiosInstance.put("/administrator/categories/".concat(e),{active:!1})},d=function(e,t){return o.axiosInstance.put("/administrator/categories/".concat(e),t)},l=function(e){return o.axiosInstance.get("/administrator/categories/".concat(e,"/category_items"))},m=function(e,t){return o.axiosInstance.put("/administrator/categories/".concat(e,"/category_items/").concat(t),{active:!1})},f=function(e,t){return o.axiosInstance.post("/administrator/categories/".concat(e,"/category_items"),t,{headers:{"Content-Type":"multipart/form-data"}})},b=function(e,t,r){return o.axiosInstance.put("/administrator/categories/".concat(e,"/category_items/").concat(t),r,{headers:{"Content-Type":"multipart/form-data"}})},g=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.axiosInstance.get("/categories"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},2532:function(e,t,r){"use strict";var n=r("23e7"),a=r("e330"),o=r("5a34"),c=r("1d80"),i=r("577e"),u=r("ab13"),s=a("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(i(c(this)),i(o(e)),arguments.length>1?arguments[1]:void 0)}})},"3f2c":function(e,t,r){"use strict";r.d(t,"h",(function(){return o})),r.d(t,"g",(function(){return i})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"j",(function(){return d})),r.d(t,"i",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return m})),r.d(t,"k",(function(){return f})),r.d(t,"a",(function(){return b})),r.d(t,"f",(function(){return g}));var n=r("997a"),a=new n["a"],o=function(e){return a.axiosInstance.get("/administrator/orders",{params:e})},c=function(e){return a.axiosInstance.get("/administrator/orders/".concat(e))},i=function(){return a.axiosInstance.get("/administrator/orders/statuses")},u=function(e){return a.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/customer_care_accept_device"))},s=function(e){return a.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/technician_accept_job"))},d=function(e){return a.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/finish_the_service"))},l=function(e){return a.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/finish_the_order"))},m=function(e){return a.axiosInstance.post("/administrator/orders/".concat(e,"/order_logs/cancel_the_order"))},f=function(e,t){return a.axiosInstance.put("/administrator/orders/".concat(e),t)},b=function(e){return a.axiosInstance.post("/administrator/orders/",e)},g=function(e){return a.axiosInstance.get("/administrator/orders/".concat(e,"/feedbacks"))}},"5a34":function(e,t,r){var n=r("da84"),a=r("44e7"),o=n.TypeError;e.exports=function(e){if(a(e))throw o("The method doesn't accept regular expressions");return e}},"7db0":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").find,o=r("44d2"),c="find",i=!0;c in[]&&Array(1)[c]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(c)},ab13:function(e,t,r){var n=r("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},b8cb:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return u}));var n=r("997a"),a=new n["a"],o=function(e){return a.axiosInstance.get("/administrator/customers",{params:e})},c=function(e){return a.axiosInstance.get("/administrator/customers/".concat(e))},i=function(e,t){return a.axiosInstance.put("/administrator/customers/".concat(e),t)},u=function(e){return a.axiosInstance.get("/administrator/customers/search",{params:{keyword:e}})}},caad:function(e,t,r){"use strict";var n=r("23e7"),a=r("4d64").includes,o=r("44d2");n({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cd3a:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["createElementVNode"])("div",{class:"content-title"},[Object(n["createElementVNode"])("h5",null,"Buat Order")],-1),o={class:"card"},c={class:"card-body"},i={class:"row"},u={class:"col-md-6 mb-2"},s={class:"row"},d={class:"col-md-6 mb-2"},l={class:"row"},m={class:"col-md-6 mb-2"},f={class:"row"},b={class:"col-md-6 mb-2"},g={class:"row"},p={class:"col-md-6 mb-2"},v={class:"row"},h={class:"col-md-6 mb-2"},_={class:"row"},j={class:"col-md-6 mb-2"},O=["disabled"],k=Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),y=Object(n["createTextVNode"])(" Simpan "),w=[k,y],x={class:"mb-4"},C=Object(n["createTextVNode"])(" Sudah Verifikasi "),V=Object(n["createTextVNode"])(" Belum Verifikasi ");function N(e,t,r,k,y,N){var S=Object(n["resolveComponent"])("a-input"),I=Object(n["resolveComponent"])("a-form-item"),E=Object(n["resolveComponent"])("a-select"),M=Object(n["resolveComponent"])("a-input-number"),R=Object(n["resolveComponent"])("a-textarea"),L=Object(n["resolveComponent"])("a-form"),P=Object(n["resolveComponent"])("a-input-search"),B=Object(n["resolveComponent"])("a-tag"),T=Object(n["resolveComponent"])("a-table"),U=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[a,Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(L,{ref:"formRef",model:k.formState,rules:k.rules,layout:"vertical"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",u,[Object(n["createVNode"])(I,{ref:"customer_id",label:"Pelanggan",name:"customer_id"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(S,{value:N.selectedCustomer,placeholder:"Pilih customer",readonly:"",onClick:k.openCustomerListModal},null,8,["value","onClick"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("a",{class:"d-block mb-0 mt-1 text-primary",onClick:t[0]||(t[0]=function(){return N.toggleInputCategoryMode&&N.toggleInputCategoryMode.apply(N,arguments)})},Object(n["toDisplayString"])(k.useManualInputCategory?"Pilih sub kategori?":"Sub kategori tidak ada?"),1),k.useManualInputCategory?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(I,{key:0,ref:"category_item_id",name:"category_item_id"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(E,{value:k.formState.category_item_id,"onUpdate:value":t[1]||(t[1]=function(e){return k.formState.category_item_id=e}),options:N.getCategoryOptions,placeholder:"Pilih Sub kategori",class:"text-left w-100"},null,8,["value","options"])]})),_:1},512)),k.useManualInputCategory?(Object(n["openBlock"])(),Object(n["createBlock"])(I,{key:1,ref:"category_item_string",name:"category_item_string"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(S,{value:k.formState.category_item_string,"onUpdate:value":t[2]||(t[2]=function(e){return k.formState.category_item_string=e}),class:"w-100",placeholder:"Masukkan nama Sub kategori"},null,8,["value"])]})),_:1},512)):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",m,[Object(n["createVNode"])(I,{ref:"device_type",name:"device_type",label:"Tipe Perangkat"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(S,{value:k.formState.device_type,"onUpdate:value":t[3]||(t[3]=function(e){return k.formState.device_type=e}),placeholder:"Masukkan tipe perangkat"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",b,[Object(n["createVNode"])(I,{ref:"device_serial_number",name:"device_serial_number",label:"No Seri Perangkat"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(S,{value:k.formState.device_serial_number,"onUpdate:value":t[4]||(t[4]=function(e){return k.formState.device_serial_number=e}),placeholder:"Masukkan no seri perangkat"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",p,[Object(n["createVNode"])(I,{ref:"price",name:"price",label:"Harga"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(M,{value:k.formState.price,"onUpdate:value":t[5]||(t[5]=function(e){return k.formState.price=e}),placeholder:"Masukkan harga",min:0,style:{width:"100%"}},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(I,{ref:"note",name:"note",label:"Catatan"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(R,{value:k.formState.note,"onUpdate:value":t[6]||(t[6]=function(e){return k.formState.note=e}),placeholder:"Masukkan catatan",row:4},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",onClick:t[7]||(t[7]=function(){return N.handleFinish&&N.handleFinish.apply(N,arguments)}),disabled:y.loadingSubmit},w,8,O)])])])])]})),_:1},8,["model","rules"])]),Object(n["createVNode"])(U,{visible:k.customerListModal,"onUpdate:visible":t[8]||(t[8]=function(e){return k.customerListModal=e}),title:"Pilih Customer",bodyStyle:{maxHeight:"60vh",overflowY:"scroll"},width:N.customerListModalWidth,footer:null},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",x,[Object(n["createVNode"])(P,{placeholder:"Cari email atau nama",onSearch:N.onCustomerSearch,width:"100%"},null,8,["onSearch"])]),Object(n["createVNode"])(T,{columns:k.columns,"data-source":N.customerList,"row-key":function(e){return e.id},loading:y.customerLoading,"custom-row":k.customRow},{status:Object(n["withCtx"])((function(e){var t=e.text;return[!0===t?(Object(n["openBlock"])(),Object(n["createBlock"])(B,{key:0,color:"blue"},{default:Object(n["withCtx"])((function(){return[C]})),_:1})):(Object(n["openBlock"])(),Object(n["createBlock"])(B,{key:1},{default:Object(n["withCtx"])((function(){return[V]})),_:1}))]})),_:1},8,["columns","data-source","row-key","loading","custom-row"])]})),_:1},8,["visible","width"])])}var S=r("1da1"),I=(r("96cf"),r("d3b7"),r("4de4"),r("caad"),r("2532"),r("7db0"),r("d81d"),r("a4d3"),r("e01a"),r("5502")),E=r("3f2c"),M=r("b8cb"),R=r("036a"),L=[{title:"Email",key:"email",dataIndex:"email"},{title:"Nama",key:"name",dataIndex:"full_name"},{title:"Status",key:"status",dataIndex:"verified_email",slots:{customRender:"status"}}],P={setup:function(){var e=Object(I["b"])(),t=Object(n["computed"])((function(){return e.getters["Settings/settings"]})),r=Object(n["ref"])(""),a=Object(n["ref"])(!1),o=Object(n["ref"])(!1),c=Object(n["ref"])([]),i=Object(n["ref"])([]),u=function(){o.value=!0},s=Object(n["ref"])(),d=Object(n["reactive"])({category_item_id:void 0,category_item_string:void 0,device_type:void 0,device_serial_number:void 0,note:void 0,price:void 0,customer_id:null}),l=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=6;break}if(d.category_item_string){e.next=3;break}return e.abrupt("return",Promise.reject("Kategori tidak boleh kosong"));case 3:return e.abrupt("return",Promise.resolve());case 6:if(r){e.next=8;break}return e.abrupt("return",Promise.reject("Kategori tidak boleh kosong"));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(d.price){e.next=2;break}return e.abrupt("return",Promise.reject("Harga tidak boleh kosong"));case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f={category_item_id:[{validator:l,trigger:"change"}],category_item_string:[{validator:l,trigger:"change"}],device_type:[{required:!0,message:"Tipe perangkat tidak boleh kosong",trigger:"change"}],device_serial_number:[{required:!0,message:"No seri perangkat tidak boleh kosong",trigger:"change"}],price:[{required:!0,validator:m,trigger:"change"},{type:"number",message:"Harga harus berupa angka",trigger:"change"}]},b=function(e){return{style:{cursor:"pointer"},onClick:function(){d.customer_id=e.id,o.value=!1,s.value.validate("customer_id")}}};return{formState:d,formRef:s,rules:f,useManualInputCategory:a,customerListModal:o,settings:t,customerSearch:r,categories:i,customers:c,columns:L,openCustomerListModal:u,customRow:b}},data:function(){return{customerLoaded:!1,customerLoading:!1,loadingSubmit:!1}},mounted:function(){this.fetchCustomers(),this.fetchCategories()},computed:{customerListModalWidth:function(){return this.settings.isMobileView?"100vw":this.settings.isTabletView?"75vw":"50vw"},customerList:function(){var e=this;return this.customers.filter((function(t){return t.email.toLowerCase().includes(e.customerSearch)||t.full_name.toLowerCase().includes(e.customerSearch)}))},selectedCustomer:function(){var e=this;if(this.formState.customer_id){var t=this.customers.find((function(t){return t.id===e.formState.customer_id}));return t.email}},getCategoryOptions:function(){return this.categories.map((function(e){return{label:e.description,options:e.subcategories.map((function(e){return{value:e.id,label:e.title}}))}}))}},methods:{fetchCustomers:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.customerLoading=!0,t.prev=1,t.next=4,Object(M["b"])({limit:1e9});case 4:r=t.sent,200===r.status&&(e.customers=r.data.data,e.customerLoaded=!0),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:e.customerLoading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},fetchCategories:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(R["g"])();case 3:r=t.sent,200===r.status&&(e.categories=r.data),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},submitData:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={category_item_id:"",category_item_string:"",device_type:e.formState.device_type,device_serial_number:e.formState.device_serial_number,note:e.formState.note,price:e.formState.price,customer_id:e.formState.customer_id},e.useManualInputCategory?(r.category_item_id=0,r.category_item_string=e.formState.category_item_string):r.category_item_id=e.formState.category_item_id,e.$nprogress.start(),e.loadingSubmit=!0,t.prev=4,t.next=7,Object(E["a"])(r);case 7:n=t.sent,200===n.status&&(e.$notification.success({message:"Sukses",description:"Order berhasil dibuat"}),e.$router.back()),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](4);case 13:e.$nprogress.done(),e.loadingSubmit=!1;case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))()},toggleInputCategoryMode:function(){this.useManualInputCategory=!this.useManualInputCategory},handleFinish:function(){var e=this;this.formRef.validate().then((function(){e.submitData()})).catch((function(){}))},onCustomerSearch:function(e){this.customerSearch=e}}},B=r("6b0d"),T=r.n(B);const U=T()(P,[["render",N]]);t["default"]=U},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,o=r("1dde"),c=o("map");n({target:"Array",proto:!0,forced:!c},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);