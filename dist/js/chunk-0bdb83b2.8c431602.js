(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bdb83b2"],{d953:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const s=Object(o["createElementVNode"])("div",{class:"content-title"},[Object(o["createElementVNode"])("h5",null,"Tambah Staff")],-1),r={class:"card"},n={class:"card-body"},l={class:"row"},i={class:"col-md-6 mb-2"},c={class:"row"},d={class:"col-md-6 mb-2"},m={class:"row"},u={class:"col-md-6 mb-2"},b={class:"row"},f={class:"col-md-6 mb-2"},p={class:"row"},h={class:"col-md-6 mb-2"},j={class:"row"},O={class:"col-md-6 mb-2"},v=["disabled"],w=Object(o["createElementVNode"])("span",{class:"btn-addon"},[Object(o["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),g=Object(o["createTextVNode"])(" Simpan "),N=[w,g];function V(e,t,a,w,g,V){const _=Object(o["resolveComponent"])("a-input"),k=Object(o["resolveComponent"])("a-form-item"),E=Object(o["resolveComponent"])("a-input-password"),S=Object(o["resolveComponent"])("a-select"),x=Object(o["resolveComponent"])("a-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[s,Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(x,{ref:"formRef",model:w.formState,rules:w.rules,layout:"vertical",onFinish:V.handleFinish},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(k,{ref:"username",label:"Username",name:"username"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,{value:w.formState.username,"onUpdate:value":t[0]||(t[0]=e=>w.formState.username=e),placeholder:"Masukkan Username"},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(k,{ref:"full_name",label:"Nama",name:"full_name"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,{value:w.formState.full_name,"onUpdate:value":t[1]||(t[1]=e=>w.formState.full_name=e),placeholder:"Masukkan nama lengkap"},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(k,{ref:"password",label:"Password",name:"password"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,{value:w.formState.password,"onUpdate:value":t[2]||(t[2]=e=>w.formState.password=e),placeholder:"Masukkan password"},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",f,[Object(o["createVNode"])(k,{ref:"password_confirmation",label:"Konfirmasi Password",name:"password_confirmation"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,{value:w.formState.password_confirmation,"onUpdate:value":t[3]||(t[3]=e=>w.formState.password_confirmation=e),placeholder:"Masukkan password sekali lagi"},null,8,["value"])]),_:1},512)])]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",h,[Object(o["createVNode"])(k,{ref:"role_list",label:"Role",name:"role_list"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(S,{value:w.formState.role_list,"onUpdate:value":t[4]||(t[4]=e=>w.formState.role_list=e),mode:"multiple",placeholder:"Pilih Role",options:V.roleListData},null,8,["value","options"])]),_:1},512)])]),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:g.loading},N,8,v)])])])])]),_:1},8,["model","rules","onFinish"])])])}var _=a("f821"),k={setup(){const e=Object(o["ref"])(),t=Object(o["reactive"])({username:"",password:"",password_confirmation:"",full_name:"",role_list:[]}),a=async(e,a)=>""===a?Promise.reject("Konfirmasi password tidak boleh kosong."):a!==t.password?Promise.reject("Password dan Konfirmasi password harus sama."):Promise.resolve(),s=async(e,t)=>t.length?Promise.resolve():Promise.reject("Harus memilih minimal 1 role."),r={username:[{required:!0,message:"Username tidak boleh kosong.",trigger:"change"}],password:[{required:!0,message:"Password tidak boleh kosong.",trigger:"change"}],password_confirmation:[{required:!0,validator:a,trigger:"change"}],full_name:[{required:!0,message:"Nama tidak boleh kosong.",trigger:"change"}],role_list:[{required:!0,validator:s,trigger:"change"}]};return{formRef:e,formState:t,rules:r}},data(){return{loading:!1,roleList:[]}},mounted(){this.fetchRoleList()},computed:{roleListData(){return this.roleList.map(e=>({value:e}))}},methods:{async fetchRoleList(){try{const e=await Object(_["c"])();200===e.status&&(this.roleList=e.data)}catch(e){}},handleFinish(){this.formRef.validate().then(()=>this.submitData()).catch(()=>{})},async submitData(){this.loading=!0,this.$nprogress.start();try{const e=await Object(_["a"])({...Object(o["toRaw"])(this.formState),role_list:Object(o["toRaw"])(this.formState.role_list.join(", "))});200===e.status&&(this.$notification.success({message:"Sukses",description:"Staff berhasil ditambahkan."}),this.$router.back())}catch(e){}this.loading=!1,this.$nprogress.done()}}},E=a("6b0d"),S=a.n(E);const x=S()(k,[["render",V]]);t["default"]=x},f821:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return d}));var o=a("997a");const s=new o["a"],r=()=>s.axiosInstance.get("/administrator/administrators"),n=e=>s.axiosInstance.get("/administrator/administrators/"+e),l=e=>s.axiosInstance.post("/administrator/administrators",e),i=()=>s.axiosInstance.get("/administrator/administrators/roles"),c=(e,t)=>s.axiosInstance.put("/administrator/administrators/"+e,t),d=e=>s.axiosInstance.put("/administrator/administrators/"+e,{status_id:2})}}]);