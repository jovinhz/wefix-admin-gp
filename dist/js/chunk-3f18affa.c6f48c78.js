(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f18affa"],{"0d6b":function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a("997a"),c=new n["a"],r=function(){return c.axiosInstance.get("/administrator/banners")},o=function(e){return c.axiosInstance.get("/administrator/banners/".concat(e))},i=function(e){return c.axiosInstance.post("/administrator/banners",e,{headers:{"Content-Type":"multipart/form-data"}})},l=function(e,t){return c.axiosInstance.put("/administrator/banners/".concat(e),t)},s=function(e){return c.axiosInstance.delete("/administrator/banners/".concat(e))}},"0e9a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}},"47ce":function(e,t,a){"use strict";var n=a("7a23"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},r=c,o=a("b3f0");function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){l(e,t,a[t])}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=function(e,t){var a=i({},e,t.attrs);return n["createVNode"](o["a"],n["mergeProps"](a,{icon:r}),null)};s.displayName="PlusOutlined",s.inheritAttrs=!1;t["a"]=s},5205:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a");var n=a("7a23"),c=Object(n["createElementVNode"])("div",{class:"content-title"},[Object(n["createElementVNode"])("div",{class:"d-flex"},[Object(n["createElementVNode"])("h5",null,"Detail Banner")])],-1),r={class:"row"},o={class:"col-md-6"},i={class:"card"},l=Object(n["createElementVNode"])("div",{class:"card-header card-header-flex"},[Object(n["createElementVNode"])("div",{class:"d-flex align-items-center"},[Object(n["createElementVNode"])("h6",{class:"mb-0"},"Data Banner")])],-1),s={class:"card-body"},d={class:"row"},u={class:"col-md-12"},b={class:"row"},m={class:"col-12 mb-2"},f={class:"row"},p={class:"col-12 mb-2"},j={class:"row"},O={class:"col-12 mb-2"},v={class:"row"},h={class:"col-12 mb-2"},g=Object(n["createTextVNode"])("Gambar"),N={key:1,class:"upload-image-thumbnail-wrapper"},V=["src"],E={key:2},w=Object(n["createElementVNode"])("div",{class:"ant-upload-text"},"Upload",-1),k={class:"row"},x={class:"col-12 mb-2"},y=Object(n["createTextVNode"])("Aktif"),C=Object(n["createTextVNode"])("Non Aktif"),S={class:"row"},_={class:"col-12 mb-2"},D=["disabled"],B=Object(n["createElementVNode"])("span",{class:"btn-addon"},[Object(n["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),U=Object(n["createTextVNode"])(" Simpan "),I=[B,U],T={class:"col-md-6"},q={class:"card"},A=Object(n["createElementVNode"])("div",{class:"card-header card-header-flex"},[Object(n["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center mr-auto"},[Object(n["createElementVNode"])("h6",{class:"mb-0"},"Informasi Tambahan")])],-1),R={class:"card-body"},P={class:"row mb-3"},F=Object(n["createElementVNode"])("div",{class:"col-4"},[Object(n["createElementVNode"])("span",null,"Status")],-1),M={class:"col-8"},$=Object(n["createTextVNode"])(" Non Aktif "),J=Object(n["createTextVNode"])(" Aktif "),z={class:"row"},G=Object(n["createElementVNode"])("div",{class:"col-4"},[Object(n["createElementVNode"])("span",null,"Dibuat pada tanggal")],-1),L={class:"col-8"},H={class:"text-gray-5"};function K(e,t,a,B,U,K){var Q=Object(n["resolveComponent"])("a-input"),W=Object(n["resolveComponent"])("a-form-item"),X=Object(n["resolveComponent"])("a-input-number"),Y=Object(n["resolveComponent"])("plus-outlined"),Z=Object(n["resolveComponent"])("a-upload"),ee=Object(n["resolveComponent"])("a-select-option"),te=Object(n["resolveComponent"])("a-select"),ae=Object(n["resolveComponent"])("a-form"),ne=Object(n["resolveComponent"])("a-tag");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[c,Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",i,[l,Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",u,[Object(n["createVNode"])(ae,{ref:"formRef",model:B.formState,rules:B.rules,layout:"vertical",onFinish:K.handleFinish},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",m,[Object(n["createVNode"])(W,{ref:"title",label:"Judul Banner",name:"title"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(Q,{value:B.formState.title,"onUpdate:value":t[0]||(t[0]=function(e){return B.formState.title=e}),placeholder:"Masukkan judul banner"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",p,[Object(n["createVNode"])(W,{ref:"description",label:"Deskripsi Banner",name:"title"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(Q,{value:B.formState.description,"onUpdate:value":t[1]||(t[1]=function(e){return B.formState.description=e}),placeholder:"Masukkan deskripsi banner"},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(W,{ref:"position",label:"Posisi",name:"positon"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(X,{value:B.formState.position_id,"onUpdate:value":t[2]||(t[2]=function(e){return B.formState.position_id=e}),placeholder:"Masukkan urutan posisi",min:1,style:{width:"100%"}},null,8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(W,null,{default:Object(n["withCtx"])((function(){return[g]})),_:1}),Object(n["createVNode"])(Z,{name:"icon",listType:"picture-card",class:"avatar-uploader avatar-uploader-has-overlay",accept:".png,.jpg,.jpeg","show-upload-list":!1,beforeUpload:function(){return!1},onChange:B.handleImageChange},{default:Object(n["withCtx"])((function(){return[B.imageUrl?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"avatar-uploader-overlay",onClick:t[4]||(t[4]=Object(n["withModifiers"])((function(){}),["stop"]))},[Object(n["createElementVNode"])("i",{class:"fe fe-trash-2",onClick:t[3]||(t[3]=Object(n["withModifiers"])((function(){return B.handleDeleteImage&&B.handleDeleteImage.apply(B,arguments)}),["stop"]))})])):Object(n["createCommentVNode"])("",!0),B.imageUrl?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",N,[Object(n["createElementVNode"])("img",{class:"upload-image-thumbnail",src:B.imageUrl,alt:""},null,8,V)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",E,[Object(n["createVNode"])(Y),w]))]})),_:1},8,["beforeUpload","onChange"])])]),Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("div",x,[Object(n["createVNode"])(W,{ref:"status_id",label:"Status",name:"status_id"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(te,{value:B.formState.status_id,"onUpdate:value":t[5]||(t[5]=function(e){return B.formState.status_id=e})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(ee,{value:1},{default:Object(n["withCtx"])((function(){return[y]})),_:1}),Object(n["createVNode"])(ee,{value:2},{default:Object(n["withCtx"])((function(){return[C]})),_:1})]})),_:1},8,["value"])]})),_:1},512)])]),Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:U.loadingSubmit},I,8,D)])])]})),_:1},8,["model","rules","onFinish"])])])])])]),Object(n["createElementVNode"])("div",T,[Object(n["createElementVNode"])("div",q,[A,Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("div",P,[F,Object(n["createElementVNode"])("div",M,[2===U.additionalData.statusId?(Object(n["openBlock"])(),Object(n["createBlock"])(ne,{key:0,color:"error"},{default:Object(n["withCtx"])((function(){return[$]})),_:1})):Object(n["createCommentVNode"])("",!0),1===U.additionalData.statusId?(Object(n["openBlock"])(),Object(n["createBlock"])(ne,{key:1,color:"success"},{default:Object(n["withCtx"])((function(){return[J]})),_:1})):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",z,[G,Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("span",H,Object(n["toDisplayString"])(U.additionalData.createdAt),1)])])])])])])])}var Q=a("1da1"),W=(a("96cf"),a("0d6b")),X=a("0e9a"),Y=a("47ce"),Z={props:{id:String},components:{PlusOutlined:Y["a"]},setup:function(){var e=this,t=Object(n["ref"])(),a=Object(n["reactive"])({title:"",description:"",status_id:null,position_id:null}),c=Object(n["ref"])([]),r=Object(n["ref"])(""),o=Object(n["ref"])(),i=function(e){s(e.file)&&Object(X["a"])(e.file,(function(t){r.value=t,o.value=e.file}))},l=function(){c.value=[],r.value="",o.value=null},s=function(t){var a="image/jpeg"===t.type||"image/png"===t.type||"image/jpeg"===t.type,n=!0;a||(e.$notification.warning({message:"Gagal Upload",description:"Format file tidak benar."}),n=!1);var c=t.size/1024/1024<2;return c||(e.$notification.warning({message:"Gagal Upload",description:"Ukuran file terlalu besar"}),n=!1),n},d={title:[{required:!0,message:"Judul banner tidak boleh kosong.",trigger:"change"}]};return{formRef:t,formState:a,rules:d,imageUrl:r,imageThumbnail:o,handleImageChange:i,handleDeleteImage:l}},data:function(){return{loadingSubmit:!1,additionalData:{statusId:null,createdAt:""}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W["c"])(e.$props.id);case 3:a=t.sent,200===a.status&&(e.formState.title=a.data.title,e.formState.description=a.data.description,e.formState.status_id=a.data.status_id,e.formState.position_id=a.data.position_id,e.additionalData.statusId=a.data.status_id,e.additionalData.createdAt=a.data.created_at,e.imageUrl=a.data.image),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleFinish:function(){var e=this;this.formRef.validate().then((function(){return e.submitData()})).catch((function(){}))},submitData:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$nprogress.start(),e.loadingSubmit=!0,a=new FormData,a.append("title",e.formState.title),a.append("description",e.formState.description),a.append("status_id",e.formState.status_id),e.formState.position_id&&a.append("position_id",e.formState.position_id),void 0!==e.imageThumbnail&&a.append("image",e.imageThumbnail),t.prev=8,t.next=11,Object(W["e"])(e.$props.id,a);case 11:n=t.sent,200===n.status&&(e.$notification.success({message:"Sukses",description:"Banner telah berhasil diperbarui."}),e.fetchData()),t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](8);case 17:e.$nprogress.done(),e.loadingSubmit=!1;case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))()}}},ee=a("6b0d"),te=a.n(ee);const ae=te()(Z,[["render",K]]);t["default"]=ae}}]);