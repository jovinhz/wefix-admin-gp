(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a75cc16"],{cf18:function(e,t,a){"use strict";a.r(t);var r=a("7a23"),n=Object(r["createElementVNode"])("div",{class:"content-title"},[Object(r["createElementVNode"])("h5",null,"Detail Staff")],-1),o={class:"row"},s={class:"col-md-6"},c={class:"card"},i={class:"card-header card-header-flex"},l={class:"d-flex align-items-center justify-content-between flex-fill"},d=Object(r["createElementVNode"])("h6",{class:"mb-0"},"Data Staff",-1),u=Object(r["createTextVNode"])(" Ganti password "),m={class:"card-body"},b={class:"row"},f={class:"col-md-12"},p={class:"row"},j={class:"col-12 mb-2"},O={class:"row"},v={class:"col-12 mb-2"},w={class:"row"},h={class:"col-12 mb-2"},V={class:"row"},N={class:"col-12 mb-2"},g=Object(r["createTextVNode"])("Aktif"),k=Object(r["createTextVNode"])("Non Aktif"),x={class:"row"},_={class:"col-12 mb-2"},E=["disabled"],S=Object(r["createElementVNode"])("span",{class:"btn-addon"},[Object(r["createElementVNode"])("i",{class:"btn-addon-icon fe fe-send"})],-1),F=Object(r["createTextVNode"])(" Simpan "),C=[S,F],R={class:"col-md-6"},P={class:"card"},y=Object(r["createElementVNode"])("div",{class:"card-header card-header-flex"},[Object(r["createElementVNode"])("div",{class:"d-flex flex-column justify-content-center mr-auto"},[Object(r["createElementVNode"])("h6",{class:"mb-0"},"Informasi Tambahan")])],-1),D={class:"card-body"},M={class:"row mb-3"},T=Object(r["createElementVNode"])("div",{class:"col-4"},[Object(r["createElementVNode"])("span",null,"Status")],-1),U={class:"col-8"},$=Object(r["createTextVNode"])(" Non Aktif "),A=Object(r["createTextVNode"])(" Aktif "),I={class:"row"},L=Object(r["createElementVNode"])("div",{class:"col-4"},[Object(r["createElementVNode"])("span",null,"Terdaftar pada tanggal")],-1),B={class:"col-8"},q={class:"text-gray-5"},K={class:"row"},G={class:"col-12"},J={class:"row"},H={class:"col-12"};function z(e,t,a,S,F,z){var Q=Object(r["resolveComponent"])("a-button"),W=Object(r["resolveComponent"])("a-input"),X=Object(r["resolveComponent"])("a-form-item"),Y=Object(r["resolveComponent"])("a-select"),Z=Object(r["resolveComponent"])("a-select-option"),ee=Object(r["resolveComponent"])("a-form"),te=Object(r["resolveComponent"])("a-tag"),ae=Object(r["resolveComponent"])("a-input-password"),re=Object(r["resolveComponent"])("a-modal");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[n,Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("div",l,[d,Object(r["createVNode"])(Q,{type:"link",onClick:z.showPasswordFormModal},{default:Object(r["withCtx"])((function(){return[u]})),_:1},8,["onClick"])])]),Object(r["createElementVNode"])("div",m,[Object(r["createElementVNode"])("div",b,[Object(r["createElementVNode"])("div",f,[Object(r["createVNode"])(ee,{ref:"formRef",model:S.formState,rules:S.rules,layout:"vertical",onFinish:z.handleFinish},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",p,[Object(r["createElementVNode"])("div",j,[Object(r["createVNode"])(X,{ref:"username",label:"Username",name:"username"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(W,{value:S.formState.username,"onUpdate:value":t[0]||(t[0]=function(e){return S.formState.username=e}),placeholder:"Masukkan Username"},null,8,["value"])]})),_:1},512)])]),Object(r["createElementVNode"])("div",O,[Object(r["createElementVNode"])("div",v,[Object(r["createVNode"])(X,{ref:"full_name",label:"Nama",name:"full_name"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(W,{value:S.formState.full_name,"onUpdate:value":t[1]||(t[1]=function(e){return S.formState.full_name=e}),placeholder:"Masukkan nama lengkap"},null,8,["value"])]})),_:1},512)])]),Object(r["createElementVNode"])("div",w,[Object(r["createElementVNode"])("div",h,[Object(r["createVNode"])(X,{ref:"role_list",label:"Role",name:"role_list"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Y,{value:S.formState.role_list,"onUpdate:value":t[2]||(t[2]=function(e){return S.formState.role_list=e}),mode:"multiple",placeholder:"Pilih Role",options:z.roleListData},null,8,["value","options"])]})),_:1},512)])]),Object(r["createElementVNode"])("div",V,[Object(r["createElementVNode"])("div",N,[Object(r["createVNode"])(X,{ref:"status_id",label:"Status",name:"status_id"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Y,{value:S.formState.status_id,"onUpdate:value":t[3]||(t[3]=function(e){return S.formState.status_id=e})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Z,{value:1},{default:Object(r["withCtx"])((function(){return[g]})),_:1}),Object(r["createVNode"])(Z,{value:2},{default:Object(r["withCtx"])((function(){return[k]})),_:1})]})),_:1},8,["value"])]})),_:1},512)])]),Object(r["createElementVNode"])("div",x,[Object(r["createElementVNode"])("div",_,[Object(r["createElementVNode"])("button",{type:"submit",class:"btn btn-primary btn-with-addon",disabled:F.loading},C,8,E)])])]})),_:1},8,["model","rules","onFinish"])])])])])]),Object(r["createElementVNode"])("div",R,[Object(r["createElementVNode"])("div",P,[y,Object(r["createElementVNode"])("div",D,[Object(r["createElementVNode"])("div",M,[T,Object(r["createElementVNode"])("div",U,[2===F.additionalData.status_id?(Object(r["openBlock"])(),Object(r["createBlock"])(te,{key:0,color:"error"},{default:Object(r["withCtx"])((function(){return[$]})),_:1})):Object(r["createCommentVNode"])("",!0),1===F.additionalData.status_id?(Object(r["openBlock"])(),Object(r["createBlock"])(te,{key:1,color:"success"},{default:Object(r["withCtx"])((function(){return[A]})),_:1})):Object(r["createCommentVNode"])("",!0)])]),Object(r["createElementVNode"])("div",I,[L,Object(r["createElementVNode"])("div",B,[Object(r["createElementVNode"])("span",q,Object(r["toDisplayString"])(F.additionalData.createdAt),1)])])])])])]),Object(r["createVNode"])(re,{visible:S.passwordFormModalVisibility,"onUpdate:visible":t[6]||(t[6]=function(e){return S.passwordFormModalVisibility=e}),title:"Ganti Password","mask-closable":!1,onOk:z.handlePasswordFormFinish,"confirm-loading":F.loadingPassword},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(ee,{ref:"passwordFormRef",model:S.passwordFormState,rules:S.passwordFormRules,layout:"vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",K,[Object(r["createElementVNode"])("div",G,[Object(r["createVNode"])(X,{ref:"password",label:"Password",name:"password"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(ae,{value:S.passwordFormState.password,"onUpdate:value":t[4]||(t[4]=function(e){return S.passwordFormState.password=e}),placeholder:"Masukkan password"},null,8,["value"])]})),_:1},512)])]),Object(r["createElementVNode"])("div",J,[Object(r["createElementVNode"])("div",H,[Object(r["createVNode"])(X,{ref:"password_confirmation",label:"Konfirmasi Password",name:"password_confirmation"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(ae,{value:S.passwordFormState.password_confirmation,"onUpdate:value":t[5]||(t[5]=function(e){return S.passwordFormState.password_confirmation=e}),placeholder:"Masukkan password sekali lagi"},null,8,["value"])]})),_:1},512)])])]})),_:1},8,["model","rules"])]})),_:1},8,["visible","onOk","confirm-loading"])])}var Q=a("5530"),W=a("1da1"),X=(a("96cf"),a("d3b7"),a("d81d"),a("a15b"),a("f821")),Y={props:{id:String},setup:function(){var e=Object(r["ref"])(),t=Object(r["reactive"])({username:"",full_name:"",role_list:[],status_id:null}),a=Object(r["ref"])(),n=Object(r["reactive"])({password:"",password_confirmation:""}),o=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.length){e.next=4;break}return e.abrupt("return",Promise.reject("Harus memilih minimal 1 role."));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}return e.abrupt("return",Promise.reject("Konfirmasi password tidak boleh kosong."));case 4:if(a===n.password){e.next=8;break}return e.abrupt("return",Promise.reject("Password dan Konfirmasi password harus sama."));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),c={username:[{required:!0,message:"Username tidak boleh kosong.",trigger:"change"}],full_name:[{required:!0,message:"Nama tidak boleh kosong.",trigger:"change"}],role_list:[{required:!0,validator:o,trigger:"change"}]},i={password:[{required:!0,message:"Password tidak boleh kosong.",trigger:"change"}],password_confirmation:[{required:!0,validator:s,trigger:"change"}]},l=Object(r["ref"])(!1);return{formRef:e,formState:t,rules:c,passwordFormModalVisibility:l,passwordFormRef:a,passwordFormState:n,passwordFormRules:i}},data:function(){return{loading:!1,roleList:[],additionalData:{createdAt:"",statusText:"",status_id:null},loadingPassword:!1}},mounted:function(){this.fetchData(),this.fetchRoleList()},computed:{roleListData:function(){return this.roleList.map((function(e){return{value:e}}))}},methods:{fetchData:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(X["d"])(e.$props.id);case 3:a=t.sent,200===a.status&&(r=a.data,e.formState.username=r.username,e.formState.full_name=r.full_name,e.formState.role_list=r.roles,e.formState.status_id=r.status_id,e.additionalData.createdAt=r.created_at,e.additionalData.statusText=r.status_caption,e.additionalData.status_id=r.status_id),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},fetchRoleList:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(X["c"])();case 3:a=t.sent,200===a.status&&(e.roleList=a.data),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleFinish:function(){var e=this;this.formRef.validate().then((function(){return e.submitData()})).catch((function(){}))},submitData:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(X["f"])(e.$props.id,Object(Q["a"])(Object(Q["a"])({},Object(r["toRaw"])(e.formState)),{},{role_list:Object(r["toRaw"])(e.formState.role_list.join(", "))}));case 5:a=t.sent,200===a.status&&e.$notification.success({message:"Sukses",description:"Staff berhasil diperbarui."}),e.fetchData(),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:e.loading=!1,e.$nprogress.done();case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},showPasswordFormModal:function(){this.passwordFormModalVisibility=!0},handlePasswordFormFinish:function(){var e=this;this.passwordFormRef.validate().then((function(){return e.submitChangePasswordForm()})).catch((function(){}))},submitChangePasswordForm:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingPassword=!0,e.$nprogress.start(),t.prev=2,t.next=5,Object(X["f"])(e.$props.id,Object(r["toRaw"])(e.passwordFormState));case 5:a=t.sent,200===a.status&&(e.$notification.success({message:"Sukses",description:"Password berhasil diubah."}),e.passwordFormModalVisibility=!1,e.passwordFormRef.resetFields()),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:e.loadingPassword=!1,e.$nprogress.done();case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()}}},Z=a("6b0d"),ee=a.n(Z);const te=ee()(Y,[["render",z]]);t["default"]=te},d81d:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").map,o=a("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},f821:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return d}));var r=a("997a"),n=new r["a"],o=function(){return n.axiosInstance.get("/administrator/administrators")},s=function(e){return n.axiosInstance.get("/administrator/administrators/".concat(e))},c=function(e){return n.axiosInstance.post("/administrator/administrators",e)},i=function(){return n.axiosInstance.get("/administrator/administrators/roles")},l=function(e,t){return n.axiosInstance.put("/administrator/administrators/".concat(e),t)},d=function(e){return n.axiosInstance.put("/administrator/administrators/".concat(e),{status_id:2})}}}]);